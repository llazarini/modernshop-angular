(self.webpackChunkmodernshop_app=self.webpackChunkmodernshop_app||[]).push([[55],{55:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AttributesModule:()=>tt});var r=i(1511),a=i(3722),o=i(5001),n=i(1050),s=i(5994),l=i(7806),u=i(7439),c=i(5980),d=i(6073),m=i(6756),p=i(3691),h=i(7521),g=i(5250),f=i(5109),Z=i(1522),b=i(4786),A=i(7033),v=i(8623),q=i(7898),C=i(689),x=i(3005),U=i(3920),_=i(6828),w=i(84),N=i(5619),T=i(6712),S=i(3548),y=i(1572),k=i(9063),Y=i(529);let D=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new k.LE;return t&&(e=e.append("page",t.toString())),this.httpClient.get(Y.N.baseAuthUrl+"/attributes/get-all",{params:e})}update(t){return this.httpClient.put(Y.N.baseAuthUrl+"/attributes/update/"+t.id,t)}store(t){return this.httpClient.post(Y.N.baseAuthUrl+"/attributes/store",t)}get(t){return this.httpClient.get(Y.N.baseAuthUrl+"/attributes/get/"+t,{})}delete(t){return this.httpClient.delete(Y.N.baseAuthUrl+"/attributes/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(y.LFG(k.eN))},t.\u0275prov=y.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=i(8394);function I(t,e){1&t&&y._UZ(0,"mat-progress-bar",18)}function Q(t,e){1&t&&(y.TgZ(0,"th",19),y._uU(1,"#"),y.qZA())}function L(t,e){if(1&t&&(y.TgZ(0,"td",20),y._uU(1),y.qZA()),2&t){const t=e.$implicit;y.xp6(1),y.Oqu(t.id)}}function B(t,e){1&t&&(y.TgZ(0,"th",21),y._uU(1,"Nome"),y.qZA())}function E(t,e){if(1&t&&(y.TgZ(0,"td",20),y._uU(1),y.qZA()),2&t){const t=e.$implicit;y.xp6(1),y.Oqu(t.name)}}function G(t,e){1&t&&(y.TgZ(0,"th",21),y._uU(1,"Descri\xe7\xe3o"),y.qZA())}function H(t,e){if(1&t&&(y.TgZ(0,"td",20),y._uU(1),y.qZA()),2&t){const t=e.$implicit;y.xp6(1),y.Oqu(t.description)}}function O(t,e){1&t&&(y.TgZ(0,"th",22),y._uU(1,"A\xe7\xf5es"),y.qZA())}function R(t,e){if(1&t){const t=y.EpF();y.TgZ(0,"td",20),y.TgZ(1,"button",23),y.TgZ(2,"mat-icon",24),y._uU(3,"edit"),y.qZA(),y._uU(4," Editar "),y.qZA(),y.TgZ(5,"button",25),y.NdJ("click",function(){const e=y.CHM(t).$implicit;return y.oxw().deleteConfirm(e)}),y.TgZ(6,"mat-icon",24),y._uU(7,"remove_circle_outline"),y.qZA(),y._uU(8," Remover "),y.qZA(),y.qZA()}if(2&t){const t=e.$implicit;y.xp6(1),y.Q6J("routerLink","edit/"+t.id)}}function W(t,e){1&t&&y._UZ(0,"tr",26)}function j(t,e){1&t&&y._UZ(0,"tr",27)}let z=(()=>{class t{constructor(t,e){this.attributeService=t,this.alertService=e,this.displayedColumns=["id","name","description","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.attributeService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.attributeService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(y.Y36(D),y.Y36(J.c))},t.\u0275cmp=y.Xpm({type:t,selectors:[["app-attributes"]],decls:24,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.YNc(0,I,1,0,"mat-progress-bar",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"h1",3),y._uU(4,"Atributos"),y.qZA(),y.TgZ(5,"button",4),y._UZ(6,"i",5),y._uU(7," Adicionar "),y.qZA(),y.qZA(),y.TgZ(8,"table",6),y.ynx(9,7),y.YNc(10,Q,2,0,"th",8),y.YNc(11,L,2,1,"td",9),y.BQk(),y.ynx(12,10),y.YNc(13,B,2,0,"th",11),y.YNc(14,E,2,1,"td",9),y.BQk(),y.ynx(15,12),y.YNc(16,G,2,0,"th",11),y.YNc(17,H,2,1,"td",9),y.BQk(),y.ynx(18,13),y.YNc(19,O,2,0,"th",14),y.YNc(20,R,9,1,"td",9),y.BQk(),y.YNc(21,W,1,0,"tr",15),y.YNc(22,j,1,0,"tr",16),y.qZA(),y.TgZ(23,"mat-paginator",17),y.NdJ("page",function(t){return e.pageChange(t)}),y.qZA(),y.qZA()),2&t&&(y.Q6J("ngIf",e.loading),y.xp6(8),y.Q6J("dataSource",e.dataSource),y.xp6(13),y.Q6J("matHeaderRowDef",e.displayedColumns),y.xp6(1),y.Q6J("matRowDefColumns",e.displayedColumns),y.xp6(1),y.Q6J("pageIndex",e.page)("length",e.total))},directives:[r.O5,a.xw,a.Wh,c.lW,S.rH,A.BZ,a.yH,v.YE,A.w1,A.fO,A.Dz,A.as,A.nj,x.NW,s.pW,A.ge,A.ev,p.Hw,A.XQ,A.Gk],styles:[""]}),t})();var X=i(7809),F=i(4912),$=i(6283);function M(t,e){1&t&&y._UZ(0,"mat-progress-bar",9)}let P=(()=>{class t{constructor(t=null,e,i,r,a){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=r,this.attributeService=a,this.id=null,this.token=X.v.generate(),this.fileType=F.r.category,this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[d.kI.required,d.kI.maxLength(255)]],description:[null]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.attributeService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","attributes"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.attributeService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","attributes"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.attributeService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(y.Y36(d.qu),y.Y36(S.F0),y.Y36(S.gz),y.Y36(J.c),y.Y36(D))},t.\u0275cmp=y.Xpm({type:t,selectors:[["app-add-edit"]],decls:17,vars:4,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","description"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(y.YNc(0,M,1,0,"mat-progress-bar",0),y.TgZ(1,"div",1),y.TgZ(2,"h1"),y._uU(3),y.qZA(),y.TgZ(4,"button",2),y.NdJ("click",function(){return e.submit()}),y._UZ(5,"i",3),y._uU(6),y.qZA(),y.qZA(),y.TgZ(7,"form",4),y.NdJ("submit",function(){return e.submit()}),y.TgZ(8,"div",5),y.TgZ(9,"mat-form-field",6),y.TgZ(10,"mat-label"),y._uU(11,"Nome da Categoria"),y.qZA(),y._UZ(12,"input",7),y.qZA(),y.TgZ(13,"mat-form-field",6),y.TgZ(14,"mat-label"),y._uU(15,"Descri\xe7\xe3o"),y.qZA(),y._UZ(16,"textarea",8),y.qZA(),y.qZA(),y.qZA()),2&t&&(y.Q6J("ngIf",e.loading),y.xp6(3),y.hij("",e.id?"Editar":"Adicionar"," Atributo"),y.xp6(3),y.hij(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),y.xp6(1),y.Q6J("formGroup",e.formGroup))},directives:[r.O5,a.xw,a.Wh,c.lW,d._Y,d.JL,d.sg,$.KE,$.hX,m.Nt,d.Fj,d.Q7,d.JJ,d.u,s.pW],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const V=[{path:"",component:z},{path:"add",component:P},{path:"edit/:id",component:P}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=y.oAB({type:t}),t.\u0275inj=y.cJS({imports:[[S.Bz.forChild(V)],S.Bz]}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=y.oAB({type:t}),t.\u0275inj=y.cJS({imports:[[r.ez,K,a.ae,o.To,n.g,s.Cv,l.Cq,u.QW,c.ot,d.UX,m.c,p.Ps,h.rP,g.ie,f.Nh,Z.Ng,b.LD,A.p0,v.JX,q.f,C.w,x.TU,U.yI,_.AV,w.Bb,N.Co,T.ProductsModule]]}),t})()}}]);