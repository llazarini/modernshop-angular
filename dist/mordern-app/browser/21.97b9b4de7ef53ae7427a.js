(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"1wMX":function(t,e,n){"use strict";n.r(e),n.d(e,"CheckoutModule",(function(){return St}));var i=n("ofXK"),o=n("bv9b"),r=n("XiUz"),c=n("znSr"),a=n("XhcP"),s=n("bTqV"),u=n("N47z"),b=n("d3UM"),d=n("zg+8"),l=n("tyNb"),p=n("3Pt+"),m=n("fXoL"),g=n("hZOA"),f=n("9ans"),h=n("kyzu"),v=n("JHit"),S=n("kmnG"),x=n("qFsG"),C=n("f0Cb"),R=n("CQ0i");function y(t,e){1&t&&m.Nb(0,"mat-progress-bar",10)}function _(t,e){if(1&t&&(m.Sb(0,"div",3),m.Cc(1),m.Rb()),2&t){const t=e.$implicit;m.Bb(1),m.Dc(null==t?null:t.name)}}function k(t,e){if(1&t){const t=m.Tb();m.Sb(0,"div",11),m.Sb(1,"div",12),m.Nb(2,"img",13),m.Sb(3,"div",14),m.Sb(4,"div"),m.Cc(5),m.Rb(),m.Ac(6,_,2,1,"div",15),m.Rb(),m.Rb(),m.Sb(7,"div",16),m.Sb(8,"button",17),m.ac("click",(function(){m.rc(t);const n=e.index;return m.ec().minus(n)})),m.Nb(9,"i",18),m.Rb(),m.Sb(10,"div"),m.Cc(11),m.Rb(),m.Sb(12,"button",17),m.ac("click",(function(){m.rc(t);const n=e.index;return m.ec().plus(n)})),m.Nb(13,"i",19),m.Rb(),m.Sb(14,"div",14),m.Cc(15),m.fc(16,"price"),m.Rb(),m.Sb(17,"button",20),m.ac("click",(function(){m.rc(t);const n=e.index;return m.ec().remove(n)})),m.Nb(18,"i",21),m.Rb(),m.Rb(),m.Nb(19,"mat-divider"),m.Rb()}if(2&t){const t=e.$implicit;m.Bb(2),m.jc("src",null==t.files[0]?null:t.files[0].url,m.tc),m.Bb(3),m.Dc(t.name),m.Bb(1),m.jc("ngForOf",null==t?null:t.selected_options),m.Bb(5),m.Dc(t.quantity),m.Bb(4),m.Dc(m.gc(16,5,t.total_price))}}function L(t,e){if(1&t&&(m.Sb(0,"span"),m.Cc(1),m.fc(2,"percent"),m.Rb()),2&t){const t=m.ec(2);m.Bb(1),m.Dc(m.gc(2,1,t.discount.value/100))}}function O(t,e){if(1&t&&(m.Sb(0,"span"),m.Cc(1),m.fc(2,"price"),m.Rb()),2&t){const t=m.ec(2);m.Bb(1),m.Ec(" ",m.gc(2,1,t.discount.value),"")}}function P(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div",22),m.Sb(2,"div",23),m.Cc(3),m.fc(4,"price"),m.Rb(),m.Sb(5,"div",24),m.Cc(6),m.fc(7,"price"),m.Rb(),m.Rb(),m.Sb(8,"small",3),m.Cc(9," Desconto de "),m.Ac(10,L,3,3,"span",8),m.Ac(11,O,3,3,"span",8),m.Cc(12," aplicado "),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(3),m.Ec("De ",m.gc(4,4,t.subTotal),""),m.Bb(3),m.Ec("por ",m.gc(7,6,t.subTotalWithDiscount),""),m.Bb(4),m.jc("ngIf","percentage"===t.discount.type),m.Bb(1),m.jc("ngIf","value"===t.discount.type)}}function w(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div"),m.Cc(2),m.fc(3,"price"),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(2),m.Dc(m.gc(3,1,t.subTotal))}}function B(t,e){if(1&t){const t=m.Tb();m.Sb(0,"div",25),m.Sb(1,"mat-form-field",26),m.Sb(2,"mat-label"),m.Cc(3,"Cupom de Desconto"),m.Rb(),m.Sb(4,"input",27),m.ac("ngModelChange",(function(e){return m.rc(t),m.ec().discountCode=e})),m.Rb(),m.Rb(),m.Sb(5,"button",28),m.ac("click",(function(){return m.rc(t),m.ec().applyDiscountCode()})),m.Cc(6,"Aplicar"),m.Rb(),m.Rb()}if(2&t){const t=m.ec();m.Bb(4),m.jc("ngModel",t.discountCode)}}function M(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div",5),m.Sb(2,"div",6),m.Cc(3,"Frete:"),m.Rb(),m.Sb(4,"div",29),m.Sb(5,"small",3),m.Cc(6,"Op\xe7\xf5es a partir de:"),m.Rb(),m.Sb(7,"div"),m.Cc(8),m.fc(9,"price"),m.Rb(),m.Rb(),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(8),m.Dc(m.gc(9,1,t.bestShipping.price))}}function A(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div",5),m.Sb(2,"div",30),m.Cc(3,"Total:"),m.Rb(),m.Sb(4,"div",29),m.Sb(5,"div"),m.Cc(6),m.fc(7,"price"),m.Rb(),m.Rb(),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(6),m.Dc(m.gc(7,1,t.subTotal+t.bestShipping.price))}}let I=(()=>{class t{constructor(t,e,n,i){this.checkoutService=t,this.authService=e,this.alertService=n,this.router=i,this.loading=0}ngOnInit(){this.products=this.checkoutService.products,this.user=this.authService.user,this.postalCode=this.checkoutService.postalCode,this.shipment(),this.change()}shipment(){var t,e,n,i,o,r;if(this.loading>0&&!(null===(e=null===(t=this.user)||void 0===t?void 0:t.main_address)||void 0===e?void 0:e.zip_code))return;const c=(null===(i=null===(n=this.user)||void 0===n?void 0:n.main_address)||void 0===i?void 0:i.zip_code)?null===(r=null===(o=this.user)||void 0===o?void 0:o.main_address)||void 0===r?void 0:r.zip_code:this.postalCode,a=this.checkoutService.products;c&&a.length&&(this.loading+=1,this.checkoutService.shipment(c,a).subscribe(t=>{t=t.filter(t=>!t.error),this.shipping=t,this.checkoutService.shipping=t,this.checkoutService.postalCode=c},t=>this.alertService.treatError(t)).add(()=>this.loading-=1))}get bestShipping(){var t;let e=-1,n=-1;return null===(t=this.shipping)||void 0===t||t.forEach(t=>{(t.delivery_time<e||-1==e)&&(e=t.delivery_time),(+t.price<n||-1==n)&&(n=+t.price)}),{time:e,price:n}}remove(t){this.products.splice(t,1),this.checkoutService.products=this.products,this.shipment(),this.change(),this.products.length||this.router.navigate(["/","checkout","no-items"])}change(){this.checkoutService.products=this.products,this.shipment()}plus(t){this.products[t].quantity+=1,this.change()}minus(t){this.products[t].quantity-=1,this.products[t].quantity<=0&&this.remove(t),this.change()}applyDiscountCode(){this.loading+=1,this.checkoutService.discountCode(this.discountCode).subscribe(t=>{this.checkoutService.applyDiscount(t)},t=>this.alertService.treatError(t)).add(()=>this.loading-=1)}get total(){return this.checkoutService.total}get subTotal(){return this.checkoutService.subTotal}get subTotalWithDiscount(){return this.checkoutService.subTotalWithDiscount}get discount(){return this.checkoutService.discount}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(g.a),m.Mb(f.a),m.Mb(h.a),m.Mb(l.b))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-cart"]],decls:18,vars:7,consts:[["fxLayout","column",1,"w100"],["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],[1,"muted"],["fxLayoutAlign.gt-xs","space-between center","class","margin-bottom","fxLayout","column","fxLayout.gt-xs","row",4,"ngFor","ngForOf"],["fxLayoutAlign","end center",1,"padding-vertical"],[1,"margin-right"],["fxFlex","200px","fxLayout","column","fxLayoutAlign","center end","fxLayoutGap","10px"],[4,"ngIf"],["fxLayoutAlign","end center","class","padding-vertical","fxLayoutGap","20px",4,"ngIf"],["mode","indeterminate",1,"progress"],["fxLayoutAlign.gt-xs","space-between center","fxLayout","column","fxLayout.gt-xs","row",1,"margin-bottom"],["fxFlex","","fxLayout","row"],[1,"product-image","rounded",3,"src"],[1,"margin-left"],["class","muted",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","",3,"click"],[1,"mdi","mdi-minus-circle"],[1,"mdi","mdi-plus-circle"],["mat-icon-button","","color","warn",3,"click"],[1,"mdi","mdi-trash-can"],["fxLayout","column","fxLayoutAlign","center end"],[1,"total-without-discount"],[1,"total-discount"],["fxLayoutAlign","end center","fxLayoutGap","20px",1,"padding-vertical"],["appearance","outline"],["matInput","","placeholder","Informe o Cupom",3,"ngModel","ngModelChange"],["color","primary","mat-stroked-button","",3,"click"],["fxFlex","200px",1,"text-right"],[1,"margin-right","bold"]],template:function(t,e){1&t&&(m.Sb(0,"div",0),m.Ac(1,y,1,0,"mat-progress-bar",1),m.Sb(2,"div",2),m.Sb(3,"small",3),m.Cc(4,"Produtos"),m.Rb(),m.Ac(5,k,20,7,"div",4),m.Nb(6,"mat-divider"),m.Sb(7,"div",5),m.Sb(8,"div",6),m.Cc(9,"Sub-total:"),m.Rb(),m.Sb(10,"div",7),m.Ac(11,P,13,8,"ng-container",8),m.Ac(12,w,4,3,"ng-container",8),m.Rb(),m.Rb(),m.Ac(13,B,7,1,"div",9),m.Nb(14,"mat-divider"),m.Ac(15,M,10,3,"ng-container",8),m.Nb(16,"mat-divider"),m.Ac(17,A,8,3,"ng-container",8),m.Rb(),m.Rb()),2&t&&(m.Bb(1),m.jc("ngIf",e.loading),m.Bb(4),m.jc("ngForOf",e.products),m.Bb(6),m.jc("ngIf",e.discount),m.Bb(1),m.jc("ngIf",!e.discount),m.Bb(1),m.jc("ngIf",!e.discount),m.Bb(2),m.jc("ngIf",e.bestShipping&&(null==e.bestShipping?null:e.bestShipping.price)>0),m.Bb(2),m.jc("ngIf",e.bestShipping&&(null==e.bestShipping?null:e.bestShipping.price)>0))},directives:[r.c,i.l,i.k,C.a,r.b,r.a,r.d,o.a,s.b,S.c,S.f,x.b,p.c,p.o,p.r],pipes:[R.a,i.r],styles:["[_nghost-%COMP%]     .mat-form-field-wrapper{margin:0!important;padding:0}.shipping-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:10px;color:#7a7a7a;font-size:14px;padding:3px 0}.products[_ngcontent-%COMP%]{margin-bottom:10px}.products[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{margin-right:10px}.sub-total[_ngcontent-%COMP%]{font-weight:700;color:#343434;padding:10px 0}.total-without-discount[_ngcontent-%COMP%]{text-decoration:line-through;color:#a4a4a4}.total[_ngcontent-%COMP%]{font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.postal-code[_ngcontent-%COMP%]{margin-top:20px}.product-image[_ngcontent-%COMP%]{width:50px;height:50px}.cart   [_nghost-%COMP%]{width:100%}"]}),t})();function j(t,e){1&t&&m.Nb(0,"mat-progress-bar",8)}let N=(()=>{class t{constructor(t,e,n,i,o){this.checkoutService=t,this.router=e,this.authService=n,this.alertService=i,this.userService=o,this.loading=0,this.total=0,this.formGroup=new p.i({email:new p.f})}ngOnInit(){this.authService.logged&&this.router.navigate(["checkout","logged"])}submit(){this.loading>0||(this.loading+=1,this.checkoutService.exists(this.formGroup.value.email).subscribe(t=>{this.userService.email=this.formGroup.value.email,this.router.navigate(t?["user","login"]:["user","create"])},t=>this.alertService.treatError(t)).add(()=>this.loading-=1))}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(g.a),m.Mb(l.b),m.Mb(f.a),m.Mb(h.a),m.Mb(v.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-checkout"]],decls:18,vars:3,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayout.gt-sm","row",1,"container","inner-page"],["fxFlex","",1,"margin-right","common-form-max"],["fxLayout","column",3,"formGroup","submit"],["fxFlex","","appearance","outline",1,"margin-right"],["matInput","","required","","formControlName","email"],["mat-flat-button","","color","primary","type","submit",1,"large-button",3,"disabled"],["fxFlex.gt-sm","500px","ngClass.lt-sm","margin-top","fxFill",""],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(m.Ac(0,j,1,0,"mat-progress-bar",0),m.Sb(1,"div",1),m.Sb(2,"div",2),m.Sb(3,"h1"),m.Cc(4,"Informe seu e-mail"),m.Rb(),m.Sb(5,"h2"),m.Cc(6," O seu e-mail ser\xe1 usado para lhe enviar atualiza\xe7\xf5es de status do pedido. "),m.Rb(),m.Sb(7,"form",3),m.ac("submit",(function(){return e.submit()})),m.Sb(8,"mat-form-field",4),m.Sb(9,"mat-label"),m.Cc(10,"E-mail"),m.Rb(),m.Nb(11,"input",5),m.Rb(),m.Sb(12,"button",6),m.Cc(13,"Continuar para Pagamento"),m.Rb(),m.Rb(),m.Rb(),m.Sb(14,"div",7),m.Sb(15,"h1"),m.Cc(16,"Carrinho de compras"),m.Rb(),m.Nb(17,"app-cart"),m.Rb(),m.Rb()),2&t&&(m.jc("ngIf",e.loading>0),m.Bb(7),m.jc("formGroup",e.formGroup),m.Bb(5),m.jc("disabled",e.loading>0))},directives:[i.l,r.c,r.b,r.a,p.w,p.p,p.j,S.c,S.f,x.b,p.c,p.u,p.o,p.h,s.b,c.a,r.e,I,o.a],styles:[""]}),t})();var F=n("eP45"),q=n("tmjD");function D(t,e){1&t&&m.Nb(0,"mat-progress-bar",26)}function G(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," O n\xfamero do cart\xe3o \xe9 requerido. "),m.Rb())}function T(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," O cart\xe3o precisa ter ao menos 16 n\xfameros "),m.Rb())}function z(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," O nome \xe9 requerido. "),m.Rb())}function E(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," A data \xe9 requerida. "),m.Rb())}function Q(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," O c\xf3digo do cart\xe3o \xe9 requerido. "),m.Rb())}function W(t,e){1&t&&(m.Sb(0,"mat-error"),m.Cc(1," O CPF \xe9 requerido. "),m.Rb())}function X(t,e){if(1&t){const t=m.Tb();m.Qb(0),m.Sb(1,"h2",27),m.Cc(2,"Pagamento com Cart\xe3o de Cr\xe9dito"),m.Rb(),m.Sb(3,"div",28),m.Nb(4,"div",29),m.Rb(),m.Sb(5,"form",30),m.ac("submit",(function(){return m.rc(t),m.ec().creditCard()})),m.Sb(6,"mat-form-field",31),m.Sb(7,"mat-label"),m.Cc(8,"N\xfamero do Cart\xe3o"),m.Rb(),m.Nb(9,"input",32),m.Ac(10,G,2,0,"mat-error",7),m.Ac(11,T,2,0,"mat-error",7),m.Rb(),m.Sb(12,"mat-form-field",31),m.Sb(13,"mat-label"),m.Cc(14,"Nome no Cart\xe3o"),m.Rb(),m.Nb(15,"input",33),m.Ac(16,z,2,0,"mat-error",7),m.Rb(),m.Sb(17,"div",34),m.Sb(18,"mat-form-field",35),m.Sb(19,"mat-label"),m.Cc(20,"Expira em"),m.Rb(),m.Nb(21,"input",36),m.Ac(22,E,2,0,"mat-error",7),m.Rb(),m.Sb(23,"mat-form-field",37),m.Sb(24,"mat-label"),m.Cc(25,"CVC"),m.Rb(),m.Nb(26,"input",38),m.Ac(27,Q,2,0,"mat-error",7),m.Rb(),m.Rb(),m.Sb(28,"mat-form-field",31),m.Sb(29,"mat-label"),m.Cc(30,"N\xfamero do CPF"),m.Rb(),m.Nb(31,"input",39),m.Ac(32,W,2,0,"mat-error",7),m.Rb(),m.Rb(),m.Pb()}if(2&t){const t=m.ec();m.Bb(5),m.jc("formGroup",t.formGroup),m.Bb(5),m.jc("ngIf",null==t.form||null==t.form.number||null==t.form.number.errors?null:t.form.number.errors.required),m.Bb(1),m.jc("ngIf",null==t.form||null==t.form.number||null==t.form.number.errors?null:t.form.number.errors.minLength),m.Bb(5),m.jc("ngIf",null==t.form||null==t.form.name||null==t.form.name.errors?null:t.form.name.errors.required),m.Bb(6),m.jc("ngIf",null==t.form||null==t.form.date||null==t.form.date.errors?null:t.form.date.errors.required),m.Bb(5),m.jc("ngIf",null==t.form.cvc.errors?null:t.form.cvc.errors.required),m.Bb(4),m.jc("mask","000.000.000-00"),m.Bb(1),m.jc("ngIf",null==t.form||null==t.form.cpf||null==t.form.cpf.errors?null:t.form.cpf.errors.required)}}function J(t,e){if(1&t&&(m.Sb(0,"div",10),m.Cc(1),m.Rb()),2&t){const t=e.$implicit;m.Bb(1),m.Dc(t.name)}}function $(t,e){if(1&t&&(m.Sb(0,"div"),m.Sb(1,"div",40),m.Sb(2,"div",41),m.Nb(3,"img",42),m.Sb(4,"div",21),m.Sb(5,"div"),m.Cc(6),m.Rb(),m.Ac(7,J,2,1,"div",43),m.Rb(),m.Rb(),m.Sb(8,"div",44),m.Sb(9,"div",45),m.Cc(10),m.Rb(),m.Sb(11,"div",23),m.Cc(12),m.fc(13,"price"),m.Rb(),m.Rb(),m.Rb(),m.Nb(14,"mat-divider"),m.Rb()),2&t){const t=e.$implicit;m.Bb(3),m.jc("src",null==t.files[0]?null:t.files[0].url,m.tc),m.Bb(3),m.Dc(t.name),m.Bb(1),m.jc("ngForOf",t.selected_options),m.Bb(3),m.Ec("",t.quantity," unidades"),m.Bb(2),m.Dc(m.gc(13,5,t.total_price))}}function K(t,e){if(1&t&&(m.Sb(0,"span"),m.Cc(1),m.fc(2,"percent"),m.Rb()),2&t){const t=m.ec(2);m.Bb(1),m.Dc(m.gc(2,1,t.discount.value/100))}}function U(t,e){if(1&t&&(m.Sb(0,"span"),m.Cc(1),m.fc(2,"price"),m.Rb()),2&t){const t=m.ec(2);m.Bb(1),m.Ec(" ",m.gc(2,1,t.discount.value),"")}}function V(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div",46),m.Cc(2),m.fc(3,"price"),m.Rb(),m.Sb(4,"div"),m.Cc(5),m.fc(6,"price"),m.Rb(),m.Sb(7,"small",10),m.Ac(8,K,3,3,"span",7),m.Ac(9,U,3,3,"span",7),m.Cc(10," de desconto "),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(2),m.Ec("De ",m.gc(3,4,t.subTotal),""),m.Bb(3),m.Ec("por ",m.gc(6,6,t.subTotalWithDiscount),""),m.Bb(3),m.jc("ngIf","percentage"===t.discount.type),m.Bb(1),m.jc("ngIf","value"===t.discount.type)}}function H(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"div"),m.Cc(2),m.fc(3,"price"),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(2),m.Dc(m.gc(3,1,t.subTotal))}}function Z(t,e){1&t&&(m.Sb(0,"span"),m.Cc(1,"Efetuar pagamento"),m.Rb())}function Y(t,e){1&t&&(m.Sb(0,"span"),m.Cc(1,"Escolha uma op\xe7\xe3o de pagamento"),m.Rb())}const tt=function(){return["/","user","address"]};let et=(()=>{class t{constructor(t,e,n,i,o){this.checkoutService=t,this.alertService=e,this.router=n,this.authService=i,this.userService=o,this.loading=0,this.option="",this.total=0,this.subTotal=0,this.subTotalWithDiscount=0,this.formGroup=new p.i({name:new p.f([],[p.v.required]),cpf:new p.f([],[p.v.required,p.v.minLength(11)]),number:new p.f([],[p.v.required,p.v.minLength(16)]),date:new p.f([],[p.v.required,p.v.minLength(4)]),cvc:new p.f([],[p.v.required,p.v.minLength(2),p.v.maxLength(4)]),products:new p.d([]),shipping:new p.f([])})}get form(){return this.formGroup.controls}ngOnInit(){this.index(),this.userService.me().subscribe(t=>{this.user=t}),this.user=this.authService.user}index(){this.products=this.checkoutService.products,this.shippingOption=this.checkoutService.shippingOption,this.total=this.checkoutService.total,this.subTotal=this.checkoutService.subTotal,this.subTotalWithDiscount=this.checkoutService.subTotalWithDiscount,this.discount=this.checkoutService.discount,this.shippingOption||this.router.navigate(["user","address"])}creditCard(){this.loading+=1,this.checkoutService.paymentCreditCard(this.formGroup.value).subscribe(t=>{this.router.navigate(["checkout","success",t.data.id]),this.checkoutService.clear()},t=>this.alertService.treatError(t)).add(()=>this.loading-=1)}pix(){this.loading+=1,this.checkoutService.paymentPix().subscribe(t=>{this.router.navigate(["checkout","success",t.data.id]),this.checkoutService.clear()},t=>this.alertService.treatError(t)).add(()=>this.loading-=1)}submit(){this.loading>0||("pix"!==this.option?this.formGroup.valid&&this.creditCard():this.pix())}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(g.a),m.Mb(h.a),m.Mb(l.b),m.Mb(f.a),m.Mb(v.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-finish"]],decls:56,vars:28,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayout.gt-sm","row",1,"container","inner-page"],["fxLayout","column","fxFlex","",1,"margin-right","common-form-max"],["fxLayout","column","fxLayoutGap","10px",1,"payment-options","margin-bottom"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"click"],[1,"mdi","mdi-cellphone-nfc"],[1,"mdi","mdi-credit-card-outline"],[4,"ngIf"],["fxFlex.gt-sm","500px","fxLayout","column","ngClass.lt-sm","margin-top"],["fxLayout","column",1,"cart"],[1,"muted"],[4,"ngFor","ngForOf"],["fxFill","","fxLayoutAlign","end center",1,"padding-vertical"],["fxLayout","row",1,"text-right","bold","margin-right"],["fxLayout","column","fxLayoutAlign","center end","fxFlex","140px"],[1,"margin-top","muted"],["fxFill",""],["fxFill","","fxLayoutAlign","center end",1,"margin-horizontal"],["fxLayout","row","fxLayoutAlign","start center"],["fxLayout","column",1,"margin-left"],["height","12px","width","50px",3,"src"],[1,"margin-left"],[3,"routerLink"],["fxFlex","140px",1,"text-right"],["fxFill","","fxLayoutAlign","end start",1,"margin-bottom","padding-vertical"],["mat-flat-button","","color","primary",1,"large-button",3,"disabled","click"],["mode","indeterminate",1,"progress"],[1,"margin-top"],[1,"card"],[1,"number"],["fxLayout","column",3,"formGroup","submit"],["appearance","outline"],["matInput","","mask","0000 0000 0000 0000","required","","formControlName","number"],["matInput","","required","","formControlName","name"],["fxLayout","row wrap"],["fxFlex","","appearance","outline","ngClass.gt-sm","margin-right"],["matInput","","required","","mask","00/00","formControlName","date"],["fxFlex","","appearance","outline"],["matInput","","required","","mask","0009","formControlName","cvc"],["matInput","","required","","formControlName","cpf",3,"mask"],["fxFill","","fxLayoutAlign","space-between center",1,"padding-vertical"],["fxLayout","row",1,"padding-horizontal"],[1,"product-image","rounded",3,"src"],["class","muted",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","80px",1,"margin-right"],[1,"total-without-discount"]],template:function(t,e){1&t&&(m.Ac(0,D,1,0,"mat-progress-bar",0),m.Sb(1,"div",1),m.Sb(2,"div",2),m.Sb(3,"h1"),m.Cc(4,"Escolha sua op\xe7\xe3o de pagamento"),m.Rb(),m.Sb(5,"div",3),m.Sb(6,"div",4),m.ac("click",(function(){return e.option="pix"})),m.Nb(7,"i",5),m.Sb(8,"div"),m.Cc(9,"Pagar com PIX"),m.Rb(),m.Rb(),m.Sb(10,"div",4),m.ac("click",(function(){return e.option="credit_card"})),m.Nb(11,"i",6),m.Sb(12,"div"),m.Cc(13,"Pagar com Cart\xe3o de Cr\xe9dito"),m.Rb(),m.Rb(),m.Rb(),m.Ac(14,X,33,8,"ng-container",7),m.Rb(),m.Sb(15,"div",8),m.Sb(16,"h1"),m.Cc(17,"Confira seu carrinho"),m.Rb(),m.Sb(18,"div",9),m.Sb(19,"small",10),m.Cc(20,"Produtos"),m.Rb(),m.Ac(21,$,15,7,"div",11),m.Sb(22,"div",12),m.Sb(23,"div",13),m.Cc(24," Sub-total: "),m.Rb(),m.Sb(25,"div",14),m.Ac(26,V,11,8,"ng-container",7),m.Ac(27,H,4,3,"ng-container",7),m.Rb(),m.Rb(),m.Nb(28,"mat-divider"),m.Sb(29,"small",15),m.Cc(30,"Frete"),m.Rb(),m.Sb(31,"div",16),m.Sb(32,"div",17),m.Sb(33,"div",18),m.Sb(34,"div",19),m.Sb(35,"div",18),m.Nb(36,"img",20),m.Sb(37,"div",21),m.Cc(38),m.Rb(),m.Rb(),m.Sb(39,"small",10),m.Cc(40),m.Sb(41,"a",22),m.Cc(42,"Trocar o endere\xe7o"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(43,"div",23),m.Cc(44),m.fc(45,"price"),m.Rb(),m.Rb(),m.Rb(),m.Nb(46,"mat-divider"),m.Sb(47,"div",24),m.Sb(48,"div",13),m.Cc(49," Total: "),m.Rb(),m.Sb(50,"div",23),m.Cc(51),m.fc(52,"price"),m.Rb(),m.Rb(),m.Rb(),m.Sb(53,"button",25),m.ac("click",(function(){return e.submit()})),m.Ac(54,Z,2,0,"span",7),m.Ac(55,Y,2,0,"span",7),m.Rb(),m.Rb(),m.Rb()),2&t&&(m.jc("ngIf",e.loading>0),m.Bb(6),m.Eb("selected","pix"===e.option),m.Bb(4),m.Eb("selected","credit_card"===e.option),m.Bb(4),m.jc("ngIf","credit_card"===e.option),m.Bb(7),m.jc("ngForOf",e.products),m.Bb(5),m.jc("ngIf",e.discount),m.Bb(1),m.jc("ngIf",!e.discount),m.Bb(9),m.jc("src",e.shippingOption.image,m.tc),m.Bb(2),m.Dc(null==e.shippingOption?null:e.shippingOption.name),m.Bb(2),m.Hc(" ",null==e.user.main_address?null:e.user.main_address.street_name,", ",null==e.user.main_address?null:e.user.main_address.street_number," ",null==e.user.main_address?null:e.user.main_address.complement,", ",null==e.user.main_address||null==e.user.main_address.city?null:e.user.main_address.city.name," - ",null==e.user.main_address||null==e.user.main_address.city||null==e.user.main_address.city.state?null:e.user.main_address.city.state.code," - ",null==e.user.main_address?null:e.user.main_address.zip_code," "),m.Bb(1),m.jc("routerLink",m.kc(27,tt)),m.Bb(3),m.Ec(" ",m.gc(45,23,null==e.shippingOption?null:e.shippingOption.price)," "),m.Bb(7),m.Ec(" ",m.gc(52,25,e.total)," "),m.Bb(2),m.jc("disabled",!e.option),m.Bb(1),m.jc("ngIf",e.option),m.Bb(1),m.jc("ngIf",!e.option))},directives:[i.l,r.c,r.b,r.a,r.d,c.a,i.k,r.e,C.a,l.d,s.b,o.a,p.w,p.p,p.j,S.c,S.f,x.b,q.a,p.c,p.u,p.o,p.h,S.b],pipes:[R.a,i.r],styles:["table[_ngcontent-%COMP%]{border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding-bottom:15px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #efefef}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}table[_ngcontent-%COMP%]   .border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #d6d6d6}.total-without-discount[_ngcontent-%COMP%]{text-decoration:line-through;color:#a4a4a4}.or[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;font-size:20px;color:#c4c4c4}.or[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-bottom:1px solid #ededed;height:15px}.product-image[_ngcontent-%COMP%]{width:50px;height:50px}.cart   [_nghost-%COMP%]{width:100%}.payment-options[_ngcontent-%COMP%]{margin-bottom:30px}.payment-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer;padding:30px;color:#f65611;border:2px solid #f65611;border-radius:10px;text-align:center;font-size:16px}.payment-options[_ngcontent-%COMP%] > div.selected[_ngcontent-%COMP%]{background:#f65611;color:#fff}.payment-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:15px;font-weight:700;font-size:20px}.payment-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}"]}),t})();function nt(t,e){1&t&&m.Nb(0,"mat-progress-bar",5)}const it=function(){return["/"]};let ot=(()=>{class t{constructor(){this.loading=0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Gb({type:t,selectors:[["app-no-items"]],decls:11,vars:3,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutAlign","start center",1,"container","inner-page"],["src","assets/images/empty-cart.png",1,"image"],[1,"muted"],["mat-stroked-button","","color","primary",1,"margin-top",3,"routerLink"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(m.Ac(0,nt,1,0,"mat-progress-bar",0),m.Sb(1,"div",1),m.Sb(2,"div"),m.Nb(3,"img",2),m.Rb(),m.Sb(4,"div"),m.Sb(5,"h1"),m.Cc(6,"Poxa, seu carrinho est\xe1 vazio :|"),m.Rb(),m.Sb(7,"div",3),m.Cc(8,"Adicione produtos no carrinho antes de prosseguir para o checkout."),m.Rb(),m.Sb(9,"button",4),m.Cc(10,"Ir para loja"),m.Rb(),m.Rb(),m.Rb()),2&t&&(m.jc("ngIf",e.loading),m.Bb(9),m.jc("routerLink",m.kc(2,it)))},directives:[i.l,r.c,r.b,s.b,l.c,o.a],styles:[""]}),t})();var rt=n("7fPX"),ct=n("U3tn");function at(t,e){1&t&&m.Nb(0,"mat-progress-bar",8)}function st(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"h1"),m.Cc(2,"Pedido gerado com pagamento via PIX"),m.Rb(),m.Sb(3,"div",9),m.Cc(4," Fa\xe7a um pagamento Pix utilizando o QR code abaixo no valor de "),m.Sb(5,"b"),m.Cc(6),m.fc(7,"price"),m.Rb(),m.Nb(8,"img",10),m.Sb(9,"div",11),m.Cc(10,"Ou se preferir, utilize a chave PIX "),m.Sb(11,"b"),m.Cc(12,"contato@anaraquelilustracoes.com.br"),m.Rb(),m.Cc(13,"."),m.Rb(),m.Rb(),m.Sb(14,"div",12),m.Cc(15," Caso queira agilizar o processo voc\xea pode enviar um comprovante de pagamento para nosso e-mail "),m.Sb(16,"b"),m.Cc(17,"contato@anaraquelilustracoes.com.br"),m.Rb(),m.Cc(18," ou Whatsapp "),m.Sb(19,"b"),m.Cc(20,"(11)9.7457-7357"),m.Rb(),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(6),m.Ec("",m.gc(7,1,t.order.amount),".")}}function ut(t,e){if(1&t&&(m.Qb(0),m.Sb(1,"h1"),m.Cc(2,"Pedido gerado com sucesso"),m.Rb(),m.Sb(3,"div",13),m.Cc(4,"O seu pedido est\xe1 na etapa de "),m.Sb(5,"b"),m.Cc(6),m.Rb(),m.Cc(7,", al\xe9m disso iremos te avisar sempre que uma etapa mudar atrav\xe9s do seu e-mail."),m.Rb(),m.Pb()),2&t){const t=m.ec();m.Bb(6),m.Dc(null==t.order?null:t.order.payment_status.name)}}const bt=function(){return["/","user","orders"]},dt=function(){return["/"]};let lt=(()=>{class t{constructor(t,e){this.orderService=t,this.activatedRoute=e,this.loading=0}ngOnInit(){this.loading+=1,this.id=this.activatedRoute.snapshot.params.id,this.orderService.show(this.id).subscribe(t=>{this.order=t}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(ct.a),m.Mb(l.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-success"]],decls:12,vars:7,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column","fxLayout.gt-sm","row","fxLayoutAlign","start center",1,"container","inner-page"],["fxFlex","50%"],["src","assets/images/empty-cart.png",1,"image"],[4,"ngIf"],["fxLayout","row wrap",1,"margin-top"],["mat-stroked-button","","color","primary",1,"margin-right",3,"routerLink"],["mat-stroked-button","","color","primary",3,"routerLink"],["mode","indeterminate",1,"progress"],[1,"margin-bottom"],["src","assets/images/pix.jpeg",1,"image"],[1,"margin-top"],[1,"muted","margin-top"],[1,"muted"]],template:function(t,e){1&t&&(m.Ac(0,at,1,0,"mat-progress-bar",0),m.Sb(1,"div",1),m.Sb(2,"div",2),m.Nb(3,"img",3),m.Rb(),m.Sb(4,"div"),m.Ac(5,st,21,3,"ng-container",4),m.Ac(6,ut,8,1,"ng-container",4),m.Sb(7,"div",5),m.Sb(8,"button",6),m.Cc(9,"Ver meus pedidos"),m.Rb(),m.Sb(10,"button",7),m.Cc(11,"Ir para loja"),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&t&&(m.jc("ngIf",e.loading>0),m.Bb(5),m.jc("ngIf","pix"===(null==e.order||null==e.order.payment_type?null:e.order.payment_type.slug)),m.Bb(1),m.jc("ngIf","credit_card"===(null==e.order||null==e.order.payment_type?null:e.order.payment_type.slug)),m.Bb(2),m.jc("routerLink",m.kc(5,bt)),m.Bb(2),m.jc("routerLink",m.kc(6,dt)))},directives:[i.l,r.c,r.b,r.a,s.b,l.c,o.a],pipes:[R.a],styles:[".pix[_ngcontent-%COMP%]{font-size:22px}"]}),t})();const pt=[{path:"",component:N,canActivate:[rt.a]},{path:"logged",component:(()=>{class t{constructor(t,e){this.router=t,this.authService=e,this.loading=0,this.total=0}ngOnInit(){this.authService.logged||this.router.navigate(["checkout"])}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(l.b),m.Mb(f.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-checkout-logged"]],decls:9,vars:0,consts:[["fxLayout","column","fxLayoutAlign","space-between start","fxLayout.gt-sm","row",1,"container","inner-page"],["fxLayout","column","fxFill",""],["fxFlex",""],["fxLayoutAlign","end center",1,"margin-top"],["mat-flat-button","","color","primary","routerLink","/user/address",1,"large-button"]],template:function(t,e){1&t&&(m.Sb(0,"div",0),m.Sb(1,"div",1),m.Sb(2,"h1"),m.Cc(3,"Carrinho de compra"),m.Rb(),m.Nb(4,"app-cart",2),m.Nb(5,"mat-divider"),m.Sb(6,"div",3),m.Sb(7,"button",4),m.Cc(8,"Finalizar compra"),m.Rb(),m.Rb(),m.Rb(),m.Rb())},directives:[r.c,r.b,r.e,I,r.a,C.a,s.b,l.c],styles:[""]}),t})(),canActivate:[rt.a]},{path:"finish",component:et,canActivate:[F.a,rt.a]},{path:"no-items",component:ot,canActivate:[]},{path:"success/:id",component:lt,canActivate:[F.a]}];let mt=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[l.e.forChild(pt)],l.e]}),t})();var gt=n("WJ5W"),ft=n("QibW"),ht=n("MutI"),vt=n("hyGo");let St=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[mt,i.c,o.b,r.f,a.f,s.c,u.a,b.b,d.a,x.c,p.t,S.e,p.k,q.b,gt.b,ft.c,c.c,ht.b,vt.a]]}),t})()}}]);