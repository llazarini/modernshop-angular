(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9fvr":function(t,e,i){"use strict";i.r(e),i.d(e,"AttributesModule",(function(){return tt}));var a=i("ofXK"),r=i("XiUz"),o=i("7EHt"),n=i("TU8p"),s=i("bv9b"),c=i("Xa2L"),b=i("Wp6s"),l=i("bTqV"),u=i("3Pt+"),d=i("qFsG"),m=i("NFeN"),h=i("1jcm"),p=i("MutI"),f=i("wZkO"),g=i("FKr1"),S=i("d3UM"),C=i("+0xr"),v=i("Dh3D"),R=i("Xx9n"),A=i("g1/W"),w=i("M9IT"),y=i("tmjD"),D=i("Qu3c"),k=i("/1cH"),x=i("WJ5W"),j=i("zg7/"),I=i("tyNb"),N=i("fXoL"),B=i("tk/3"),M=i("AytR");let G=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new B.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(M.a.baseAuthUrl+"/attributes/get-all",{params:e})}update(t){return this.httpClient.put(M.a.baseAuthUrl+"/attributes/update/"+t.id,t)}store(t){return this.httpClient.post(M.a.baseAuthUrl+"/attributes/store",t)}get(t){return this.httpClient.get(M.a.baseAuthUrl+"/attributes/get/"+t,{})}delete(t){return this.httpClient.delete(M.a.baseAuthUrl+"/attributes/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(N.Wb(B.b))},t.\u0275prov=N.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=i("kyzu");function E(t,e){1&t&&N.Nb(0,"mat-progress-bar",18)}function U(t,e){1&t&&(N.Sb(0,"th",19),N.Cc(1,"#"),N.Rb())}function H(t,e){if(1&t&&(N.Sb(0,"td",20),N.Cc(1),N.Rb()),2&t){const t=e.$implicit;N.Bb(1),N.Dc(t.id)}}function P(t,e){1&t&&(N.Sb(0,"th",21),N.Cc(1,"Nome"),N.Rb())}function Q(t,e){if(1&t&&(N.Sb(0,"td",20),N.Cc(1),N.Rb()),2&t){const t=e.$implicit;N.Bb(1),N.Dc(t.name)}}function q(t,e){1&t&&(N.Sb(0,"th",21),N.Cc(1,"Descri\xe7\xe3o"),N.Rb())}function J(t,e){if(1&t&&(N.Sb(0,"td",20),N.Cc(1),N.Rb()),2&t){const t=e.$implicit;N.Bb(1),N.Dc(t.description)}}function T(t,e){1&t&&(N.Sb(0,"th",22),N.Cc(1,"A\xe7\xf5es"),N.Rb())}function W(t,e){if(1&t){const t=N.Tb();N.Sb(0,"td",20),N.Sb(1,"button",23),N.Sb(2,"mat-icon",24),N.Cc(3,"edit"),N.Rb(),N.Cc(4," Editar "),N.Rb(),N.Sb(5,"button",25),N.ac("click",(function(){N.rc(t);const i=e.$implicit;return N.ec().deleteConfirm(i)})),N.Sb(6,"mat-icon",24),N.Cc(7,"remove_circle_outline"),N.Rb(),N.Cc(8," Remover "),N.Rb(),N.Rb()}if(2&t){const t=e.$implicit;N.Bb(1),N.jc("routerLink","edit/"+t.id)}}function X(t,e){1&t&&N.Nb(0,"tr",26)}function $(t,e){1&t&&N.Nb(0,"tr",27)}let z=(()=>{class t{constructor(t,e){this.attributeService=t,this.alertService=e,this.displayedColumns=["id","name","description","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.attributeService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.attributeService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(N.Mb(G),N.Mb(L.a))},t.\u0275cmp=N.Gb({type:t,selectors:[["app-attributes"]],decls:24,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","description"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(N.Ac(0,E,1,0,"mat-progress-bar",0),N.Sb(1,"div",1),N.Sb(2,"div",2),N.Sb(3,"h1",3),N.Cc(4,"Atributos"),N.Rb(),N.Sb(5,"button",4),N.Nb(6,"i",5),N.Cc(7," Adicionar "),N.Rb(),N.Rb(),N.Sb(8,"table",6),N.Qb(9,7),N.Ac(10,U,2,0,"th",8),N.Ac(11,H,2,1,"td",9),N.Pb(),N.Qb(12,10),N.Ac(13,P,2,0,"th",11),N.Ac(14,Q,2,1,"td",9),N.Pb(),N.Qb(15,12),N.Ac(16,q,2,0,"th",11),N.Ac(17,J,2,1,"td",9),N.Pb(),N.Qb(18,13),N.Ac(19,T,2,0,"th",14),N.Ac(20,W,9,1,"td",9),N.Pb(),N.Ac(21,X,1,0,"tr",15),N.Ac(22,$,1,0,"tr",16),N.Rb(),N.Sb(23,"mat-paginator",17),N.ac("page",(function(t){return e.pageChange(t)})),N.Rb(),N.Rb()),2&t&&(N.jc("ngIf",e.loading),N.Bb(8),N.jc("dataSource",e.dataSource),N.Bb(13),N.jc("matHeaderRowDef",e.displayedColumns),N.Bb(1),N.jc("matRowDefColumns",e.displayedColumns),N.Bb(1),N.jc("pageIndex",e.page)("length",e.total))},directives:[a.l,r.c,r.b,l.b,I.c,C.j,r.a,v.a,C.c,C.e,C.b,C.g,C.i,w.a,s.a,C.d,C.a,m.a,C.f,C.h],styles:[""]}),t})();var F=i("sAQj"),K=i("Qj20"),O=i("kmnG");function _(t,e){1&t&&N.Nb(0,"mat-progress-bar",9)}let V=(()=>{class t{constructor(t=null,e,i,a,r){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=a,this.attributeService=r,this.id=null,this.token=F.a.generate(),this.fileType=K.a.category,this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[u.v.required,u.v.maxLength(255)]],description:[null]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.attributeService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","attributes"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.attributeService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","attributes"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.attributeService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(N.Mb(u.e),N.Mb(I.b),N.Mb(I.a),N.Mb(L.a),N.Mb(G))},t.\u0275cmp=N.Gb({type:t,selectors:[["app-add-edit"]],decls:17,vars:4,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","description"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(N.Ac(0,_,1,0,"mat-progress-bar",0),N.Sb(1,"div",1),N.Sb(2,"h1"),N.Cc(3),N.Rb(),N.Sb(4,"button",2),N.ac("click",(function(){return e.submit()})),N.Nb(5,"i",3),N.Cc(6),N.Rb(),N.Rb(),N.Sb(7,"form",4),N.ac("submit",(function(){return e.submit()})),N.Sb(8,"div",5),N.Sb(9,"mat-form-field",6),N.Sb(10,"mat-label"),N.Cc(11,"Nome da Categoria"),N.Rb(),N.Nb(12,"input",7),N.Rb(),N.Sb(13,"mat-form-field",6),N.Sb(14,"mat-label"),N.Cc(15,"Descri\xe7\xe3o"),N.Rb(),N.Nb(16,"textarea",8),N.Rb(),N.Rb(),N.Rb()),2&t&&(N.jc("ngIf",e.loading),N.Bb(3),N.Ec("",e.id?"Editar":"Adicionar"," Atributo"),N.Bb(3),N.Ec(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),N.Bb(1),N.jc("formGroup",e.formGroup))},directives:[a.l,r.c,r.b,l.b,u.w,u.p,u.j,O.c,O.f,d.b,u.c,u.u,u.o,u.h,s.a],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const Z=[{path:"",component:z},{path:"add",component:V},{path:"edit/:id",component:V}];let Y=(()=>{class t{}return t.\u0275mod=N.Kb({type:t}),t.\u0275inj=N.Jb({factory:function(e){return new(e||t)},imports:[[I.e.forChild(Z)],I.e]}),t})(),tt=(()=>{class t{}return t.\u0275mod=N.Kb({type:t}),t.\u0275inj=N.Jb({factory:function(e){return new(e||t)},imports:[[a.c,Y,r.f,o.a,n.b,s.b,c.b,b.c,l.c,u.t,d.c,m.b,h.a,p.b,f.d,g.o,S.b,C.k,v.b,R.a,A.a,w.b,y.b,D.b,k.a,x.b,j.ProductsModule]]}),t})()}}]);