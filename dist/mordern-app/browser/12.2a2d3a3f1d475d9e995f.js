(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Qj20:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));let n=(()=>{class t{}return t.product="App\\Models\\Product",t.category="App\\Models\\Category",t.option="App\\Models\\Option",t})()},TT0I:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return p}));var n=i("fXoL"),s=i("3Pt+"),a=i("ofXK"),r=function(t){return t[t.FINANCIAL=0]="FINANCIAL",t[t.NATURAL=1]="NATURAL",t}({});let l=new n.s("currency.mask.config");class o{constructor(t){this.htmlInputElement=t}setCursorAt(t){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(t,t);else if(this.htmlInputElement.createTextRange){let e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}updateValueAndCursor(t,e,i){this.rawValue=t,this.setCursorAt(i-=e-t.length)}get canInputMoreNumbers(){let t=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(e==i||!this.htmlInputElement.value.substring(e,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),s="0"==this.htmlInputElement.value.substring(0,1);return t||n||s}get inputSelection(){let t=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)t=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{let i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){let n=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange();a.moveToBookmark(i.getBookmark());let r=this.htmlInputElement.createTextRange();r.collapse(!1),a.compareEndPoints("StartToEnd",r)>-1?t=e=n:(t=-a.moveStart("character",-n),t+=s.slice(0,t).split("\n").length-1,a.compareEndPoints("EndToEnd",r)>-1?e=n:(e=-a.moveEnd("character",-n),e+=s.slice(0,e).split("\n").length-1))}}return{selectionStart:t,selectionEnd:e}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(t){this._storedRawValue=t,this.htmlInputElement&&(this.htmlInputElement.value=t)}get storedRawValue(){return this._storedRawValue||""}}class u{constructor(t,e){this.htmlInputElement=t,this.options=e,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new o(t),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(t){const{decimal:e,precision:i,inputMode:n}=this.options;let s=String.fromCharCode(t);const a=s===this.options.decimal;if(this.rawValue){let t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;const l=this.rawValue.substring(0,t);let o=this.rawValue.substring(i,this.rawValue.length);const u=-1!==l.indexOf(e);n===r.NATURAL&&u&&t===i&&(o=o.substring(1));const h=l+s+o;let c=t+1;if(!a&&s!==this.options.thousands||s!==o[0]){if(!this.SINGLE_DIGIT_REGEX.test(s))return}else c++;this.rawValue=h,this.updateFieldValue(c)}else{this.rawValue=this.applyMask(!1,s);let t=void 0;n===r.NATURAL&&i>0&&(t=this.rawValue.indexOf(e),a&&t++),this.updateFieldValue(t)}}applyMask(t,e,i=!1){let{allowNegative:n,decimal:s,precision:a,prefix:l,suffix:o,thousands:u,min:h,max:c,inputMode:d}=this.options,p=(e=t?new Number(e).toFixed(a):e).replace(this.ONLY_NUMBERS_REGEX,"");if(!p&&e!==s)return"";d!==r.NATURAL||t||i||(p=(e=this.padOrTrimPrecision(e)).replace(this.ONLY_NUMBERS_REGEX,""));let m=p.slice(0,p.length-a).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==m&&(m="0");let b=parseInt(m);m=m.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,u),u&&m.startsWith(u)&&(m=m.substring(1));let g=m,f=p.slice(p.length-a),R=parseInt(f)||0,v=e.indexOf("-")>-1;c=this.isNullOrUndefined(c)||this.isNullOrUndefined(h)?c:Math.max(c,h);let S=b+R/100;return S=v?-S:S,!this.isNullOrUndefined(c)&&S>c?this.applyMask(!0,c+""):!this.isNullOrUndefined(h)&&S<h?this.applyMask(!0,h+""):(a>0&&(g+="0"==g&&f.length<a?s+"0".repeat(a-1)+f:s+f),(v&&n&&0!=S?"-":"")+l+g+o)}padOrTrimPrecision(t){let{decimal:e,precision:i}=this.options,n=t.lastIndexOf(e);-1===n&&(n=t.length,t+=e);let s=t.substring(n).replace(this.ONLY_NUMBERS_REGEX,"");const a=s.length;if(a<i)for(let r=a;r<i;r++)s+="0";else a>i&&(s=s.substring(0,s.length+i-a));return t.substring(0,n)+e+s}clearMask(t){if(this.isNullable()&&""===t)return null;let e=(t||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((t,i)=>{const n=new RegExp(i,"g");e=e.replace(n,t)}),parseFloat(e)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(t){let{decimal:e,thousands:i,prefix:n,suffix:s,inputMode:a}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let l=this.inputSelection.selectionEnd,o=this.inputSelection.selectionStart;const u=this.rawValue.length-s.length;if(l=Math.min(u,Math.max(l,n.length)),o=Math.min(u,Math.max(o,n.length)),o===l&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(o);let h=this.rawValue.indexOf(e);-1===h&&(h=this.rawValue.length);let c=0,d="";const p=h<l,m=h+1===l;if(l===o)if(8==t){if(o<=n.length)return;o--,this.rawValue.substr(o,1).match(/\d/)||o--,a===r.NATURAL&&p&&(c=-1,m&&this.value<10&&this.value>-10&&(d+="0"))}else if(46==t||63272==t){if(o===u)return;l++,this.rawValue.substr(o,1).match(/\d/)||(o++,l++)}if(a===r.NATURAL&&o>h){const t=l-o;for(let e=0;e<t;e++)d+="0"}let b=this.rawValue.length-l;this.rawValue=this.rawValue.substring(0,o)+d+this.rawValue.substring(l),this.rawValue.substr(n.length,1)===i&&(this.rawValue=this.rawValue.substring(0,n.length)+this.rawValue.substring(n.length+1),b=Math.min(b,this.rawValue.length-n.length)),this.updateFieldValue(this.rawValue.length-b+c,!0)}updateFieldValue(t,e=!1){let i=this.applyMask(!1,this.rawValue||"",e);t=null==t?this.rawValue.length:t,t=Math.max(this.options.prefix.length,Math.min(t,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,t)}updateOptions(t){let e=this.value;this.options=t,this.value=e}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(t){this.inputManager.rawValue=t}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(t){this.rawValue=this.applyMask(!0,""+t)}isNullOrUndefined(t){return null==t}}class h{constructor(t,e){this.inputService=new u(t,e)}handleCut(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(t){let e=this.inputService.inputSelection.selectionStart,i=this.inputService.rawValue.charCodeAt(e-1),n=this.inputService.rawValue.length,s=this.inputService.storedRawValue.length;if(1!=Math.abs(n-s))return this.inputService.updateFieldValue(e),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,n<s&&this.timer(()=>{this.inputService.updateFieldValue(e+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),n>s&&(this.inputService.updateFieldValue(e-1),this.handleKeypressImpl(i))}handleKeydown(t){let e=t.which||t.charCode||t.keyCode;8!=e&&46!=e&&63272!=e||(t.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(t){let e=t.which||t.charCode||t.keyCode;t.preventDefault(),97===e&&t.ctrlKey||this.handleKeypressImpl(e)}handleKeypressImpl(t){switch(t){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(t))}this.onModelChange(this.inputService.value)}handlePaste(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(t){this.inputService.updateOptions(t)}getOnModelChange(){return this.onModelChange}setOnModelChange(t){this.onModelChange=t}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(t){this.onModelTouched=t}setValue(t){this.inputService.value=t}timer(t,e){setTimeout(t,e)}}const c={provide:s.m,useExisting:Object(n.V)(()=>d),multi:!0};let d=(()=>{class t{constructor(t,e,i){this.currencyMaskConfig=t,this.elementRef=e,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:r.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new h(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleCut(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(t)}handlePaste(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(t)}handleDrop(t){this.isChromeAndroid()||t.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}writeValue(t){this.inputHandler.setValue(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(l,8),n.Mb(n.l),n.Mb(n.v))},t.\u0275dir=n.Hb({type:t,selectors:[["","currencyMask",""]],hostBindings:function(t,e){1&t&&n.ac("blur",(function(t){return e.handleBlur(t)}))("cut",(function(t){return e.handleCut(t)}))("input",(function(t){return e.handleInput(t)}))("keydown",(function(t){return e.handleKeydown(t)}))("keypress",(function(t){return e.handleKeypress(t)}))("paste",(function(t){return e.handlePaste(t)}))("drop",(function(t){return e.handleDrop(t)}))},inputs:{options:"options"},features:[n.Ab([c])]}),t})(),p=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:l,useValue:e}]}}}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[a.c,s.k]]}),t})()},sAQj:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{static generate(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},vhO6:function(t,e,i){"use strict";i.r(e),i.d(e,"DiscountsModule",(function(){return lt}));var n=i("ofXK"),s=i("XiUz"),a=i("7EHt"),r=i("TU8p"),l=i("bv9b"),o=i("Xa2L"),u=i("Wp6s"),h=i("bTqV"),c=i("3Pt+"),d=i("qFsG"),p=i("NFeN"),m=i("1jcm"),b=i("MutI"),g=i("wZkO"),f=i("FKr1"),R=i("d3UM"),v=i("+0xr"),S=i("Dh3D"),E=i("Xx9n"),w=i("g1/W"),M=i("M9IT"),A=i("tmjD"),C=i("Qu3c"),N=i("/1cH"),V=i("WJ5W"),y=i("tyNb"),I=i("fXoL"),_=i("tk/3"),x=i("AytR");let k=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new _.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(x.a.baseAuthUrl+"/discounts/get-all",{params:e})}update(t){return this.httpClient.put(x.a.baseAuthUrl+"/discounts/update/"+t.id,t)}store(t){return this.httpClient.post(x.a.baseAuthUrl+"/discounts/store",t)}dataprovider(){return this.httpClient.get(x.a.baseAuthUrl+"/discounts/dataprovider/",{})}get(t){return this.httpClient.get(x.a.baseAuthUrl+"/discounts/get/"+t,{})}delete(t){return this.httpClient.delete(x.a.baseAuthUrl+"/discounts/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(I.Wb(_.b))},t.\u0275prov=I.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var B=i("kyzu"),T=i("CQ0i");function U(t,e){1&t&&I.Nb(0,"mat-progress-bar",19)}function O(t,e){1&t&&(I.Sb(0,"th",20),I.Cc(1,"#"),I.Rb())}function P(t,e){if(1&t&&(I.Sb(0,"td",21),I.Cc(1),I.Rb()),2&t){const t=e.$implicit;I.Bb(1),I.Dc(t.id)}}function D(t,e){1&t&&(I.Sb(0,"th",22),I.Cc(1,"Nome"),I.Rb())}function L(t,e){if(1&t&&(I.Sb(0,"td",21),I.Cc(1),I.Rb()),2&t){const t=e.$implicit;I.Bb(1),I.Dc(t.name)}}function F(t,e){1&t&&(I.Sb(0,"th",22),I.Cc(1,"C\xf3digo"),I.Rb())}function j(t,e){if(1&t&&(I.Sb(0,"td",21),I.Cc(1),I.Rb()),2&t){const t=e.$implicit;I.Bb(1),I.Dc(t.code)}}function G(t,e){1&t&&(I.Sb(0,"th",22),I.Cc(1,"Valor"),I.Rb())}function H(t,e){if(1&t&&(I.Sb(0,"td",21),I.Cc(1),I.fc(2,"price"),I.Rb()),2&t){const t=e.$implicit;I.Bb(1),I.Dc(I.gc(2,1,t.value))}}function K(t,e){1&t&&(I.Sb(0,"th",23),I.Cc(1,"A\xe7\xf5es"),I.Rb())}function Q(t,e){if(1&t){const t=I.Tb();I.Sb(0,"td",21),I.Sb(1,"button",24),I.Sb(2,"mat-icon",25),I.Cc(3,"edit"),I.Rb(),I.Cc(4," Editar "),I.Rb(),I.Sb(5,"button",26),I.ac("click",(function(){I.rc(t);const i=e.$implicit;return I.ec().deleteConfirm(i)})),I.Sb(6,"mat-icon",25),I.Cc(7,"remove_circle_outline"),I.Rb(),I.Cc(8," Remover "),I.Rb(),I.Rb()}if(2&t){const t=e.$implicit;I.Bb(1),I.jc("routerLink","edit/"+t.id)}}function X(t,e){1&t&&I.Nb(0,"tr",27)}function $(t,e){1&t&&I.Nb(0,"tr",28)}let q=(()=>{class t{constructor(t,e){this.discountService=t,this.alertService=e,this.displayedColumns=["id","name","code","value","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.discountService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.discountService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(I.Mb(k),I.Mb(B.a))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-discounts"]],decls:27,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","code"],["matColumnDef","value"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(I.Ac(0,U,1,0,"mat-progress-bar",0),I.Sb(1,"div",1),I.Sb(2,"div",2),I.Sb(3,"h1",3),I.Cc(4,"Cupons de Desconto"),I.Rb(),I.Sb(5,"button",4),I.Nb(6,"i",5),I.Cc(7," Adicionar "),I.Rb(),I.Rb(),I.Sb(8,"table",6),I.Qb(9,7),I.Ac(10,O,2,0,"th",8),I.Ac(11,P,2,1,"td",9),I.Pb(),I.Qb(12,10),I.Ac(13,D,2,0,"th",11),I.Ac(14,L,2,1,"td",9),I.Pb(),I.Qb(15,12),I.Ac(16,F,2,0,"th",11),I.Ac(17,j,2,1,"td",9),I.Pb(),I.Qb(18,13),I.Ac(19,G,2,0,"th",11),I.Ac(20,H,3,3,"td",9),I.Pb(),I.Qb(21,14),I.Ac(22,K,2,0,"th",15),I.Ac(23,Q,9,1,"td",9),I.Pb(),I.Ac(24,X,1,0,"tr",16),I.Ac(25,$,1,0,"tr",17),I.Rb(),I.Sb(26,"mat-paginator",18),I.ac("page",(function(t){return e.pageChange(t)})),I.Rb(),I.Rb()),2&t&&(I.jc("ngIf",e.loading),I.Bb(8),I.jc("dataSource",e.dataSource),I.Bb(16),I.jc("matHeaderRowDef",e.displayedColumns),I.Bb(1),I.jc("matRowDefColumns",e.displayedColumns),I.Bb(1),I.jc("pageIndex",e.page)("length",e.total))},directives:[n.l,s.c,s.b,h.b,y.c,v.j,s.a,S.a,v.c,v.e,v.b,v.g,v.i,M.a,l.a,v.d,v.a,p.a,v.f,v.h],pipes:[T.a],styles:[""]}),t})();var J=i("sAQj"),W=i("Qj20"),z=i("kmnG"),Y=i("TT0I");function Z(t,e){1&t&&I.Nb(0,"mat-progress-bar",14)}const tt=function(){return{prefix:"R$ ",thousands:".",decimal:","}};function et(t,e){1&t&&(I.Qb(0),I.Nb(1,"input",15),I.Pb()),2&t&&(I.Bb(1),I.jc("options",I.kc(1,tt)))}function it(t,e){1&t&&(I.Qb(0),I.Nb(1,"input",16),I.Pb())}let nt=(()=>{class t{constructor(t=null,e,i,n,s){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=n,this.discountService=s,this.id=null,this.token=J.a.generate(),this.fileType=W.a.category,this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[c.v.required,c.v.maxLength(255)]],code:[null],type:["percentage"],value:[null]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get(),this.dataprovider()}dataprovider(){this.loading=!0,this.discountService.dataprovider().subscribe(t=>{}).add(()=>this.loading=!1)}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.discountService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","discounts"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.discountService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","discounts"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.discountService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(I.Mb(c.e),I.Mb(y.b),I.Mb(y.a),I.Mb(B.a),I.Mb(k))},t.\u0275cmp=I.Gb({type:t,selectors:[["app-add-edit"]],decls:30,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","code"],["formControlName","type"],["value","percentage"],["value","value"],["fxFlex","","appearance","outline"],[4,"ngIf"],["mode","indeterminate",1,"progress"],["currencyMask","","matInput","","required","","formControlName","value",3,"options"],["type","number","matInput","","required","","formControlName","value"]],template:function(t,e){1&t&&(I.Ac(0,Z,1,0,"mat-progress-bar",0),I.Sb(1,"div",1),I.Sb(2,"h1"),I.Cc(3),I.Rb(),I.Sb(4,"button",2),I.ac("click",(function(){return e.submit()})),I.Nb(5,"i",3),I.Cc(6),I.Rb(),I.Rb(),I.Sb(7,"form",4),I.ac("submit",(function(){return e.submit()})),I.Sb(8,"div",5),I.Sb(9,"mat-form-field",6),I.Sb(10,"mat-label"),I.Cc(11,"Nome do Desconto"),I.Rb(),I.Nb(12,"input",7),I.Rb(),I.Sb(13,"mat-form-field",6),I.Sb(14,"mat-label"),I.Cc(15,"C\xf3digo"),I.Rb(),I.Nb(16,"input",8),I.Rb(),I.Sb(17,"mat-form-field",6),I.Sb(18,"mat-label"),I.Cc(19,"Tipo"),I.Rb(),I.Sb(20,"mat-select",9),I.Sb(21,"mat-option",10),I.Cc(22,"Porcentagem"),I.Rb(),I.Sb(23,"mat-option",11),I.Cc(24,"Valor"),I.Rb(),I.Rb(),I.Rb(),I.Sb(25,"mat-form-field",12),I.Sb(26,"mat-label"),I.Cc(27,"Desconto"),I.Rb(),I.Ac(28,et,2,2,"ng-container",13),I.Ac(29,it,2,0,"ng-container",13),I.Rb(),I.Rb(),I.Rb()),2&t&&(I.jc("ngIf",e.loading),I.Bb(3),I.Ec("",e.id?"Editar":"Adicionar"," Desconto"),I.Bb(3),I.Ec(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),I.Bb(1),I.jc("formGroup",e.formGroup),I.Bb(21),I.jc("ngIf","value"===e.formGroup.value.type),I.Bb(1),I.jc("ngIf","percentage"===e.formGroup.value.type))},directives:[n.l,s.c,s.b,h.b,c.w,c.p,c.j,z.c,z.f,d.b,c.c,c.u,c.o,c.h,R.a,f.n,s.a,l.a,Y.a,c.s],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const st=[{path:"",component:q},{path:"add",component:nt},{path:"edit/:id",component:nt}];let at=(()=>{class t{}return t.\u0275mod=I.Kb({type:t}),t.\u0275inj=I.Jb({factory:function(e){return new(e||t)},imports:[[y.e.forChild(st)],y.e]}),t})();var rt=i("hyGo");let lt=(()=>{class t{}return t.\u0275mod=I.Kb({type:t}),t.\u0275inj=I.Jb({factory:function(e){return new(e||t)},imports:[[n.c,at,s.f,a.a,r.b,l.b,o.b,u.c,h.c,c.t,d.c,p.b,m.a,b.b,g.d,f.o,R.b,v.k,S.b,E.a,w.a,M.b,A.b,C.b,N.a,V.b,Y.b,rt.a]]}),t})()}}]);