(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"38W/":function(t,e,i){"use strict";i.r(e),i.d(e,"CategoriesModule",(function(){return ot}));var a=i("ofXK"),r=i("tyNb"),o=i("fXoL"),n=i("tk/3"),c=i("AytR");let s=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new n.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(c.a.baseAuthUrl+"/categories/get-all",{params:e})}update(t){return this.httpClient.put(c.a.baseAuthUrl+"/categories/update/"+t.id,t)}store(t){return this.httpClient.post(c.a.baseAuthUrl+"/categories/store",t)}dataprovider(){return this.httpClient.get(c.a.baseAuthUrl+"/categories/dataprovider/",{})}get(t){return this.httpClient.get(c.a.baseAuthUrl+"/categories/get/"+t,{})}delete(t){return this.httpClient.delete(c.a.baseAuthUrl+"/categories/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(n.b))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("kyzu"),b=i("XiUz"),d=i("bTqV"),u=i("+0xr"),m=i("Dh3D"),h=i("M9IT"),p=i("bv9b"),g=i("NFeN");function f(t,e){1&t&&o.Nb(0,"mat-progress-bar",20)}function S(t,e){1&t&&(o.Sb(0,"th",21),o.Cc(1,"#"),o.Rb())}function C(t,e){if(1&t&&(o.Sb(0,"td",22),o.Cc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Dc(t.id)}}function v(t,e){1&t&&(o.Sb(0,"th",23),o.Cc(1,"Nome"),o.Rb())}function R(t,e){if(1&t&&(o.Sb(0,"td",22),o.Cc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Dc(t.name)}}function y(t,e){1&t&&(o.Sb(0,"th",23),o.Cc(1,"Slug"),o.Rb())}function A(t,e){if(1&t&&(o.Sb(0,"td",22),o.Cc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Dc(t.slug)}}function w(t,e){1&t&&(o.Sb(0,"th",23),o.Cc(1,"C\xf3digo / Slug"),o.Rb())}function D(t,e){if(1&t&&(o.Sb(0,"td",22),o.Cc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Dc(t.slug)}}function k(t,e){1&t&&(o.Sb(0,"th",23),o.Cc(1,"Descri\xe7\xe3o"),o.Rb())}function j(t,e){if(1&t&&(o.Sb(0,"td",22),o.Cc(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Dc(t.description)}}function x(t,e){1&t&&(o.Sb(0,"th",24),o.Cc(1,"A\xe7\xf5es"),o.Rb())}function N(t,e){if(1&t){const t=o.Tb();o.Sb(0,"td",22),o.Sb(1,"button",25),o.Sb(2,"mat-icon",26),o.Cc(3,"edit"),o.Rb(),o.Cc(4," Editar "),o.Rb(),o.Sb(5,"button",27),o.ac("click",(function(){o.rc(t);const i=e.$implicit;return o.ec().deleteConfirm(i)})),o.Sb(6,"mat-icon",26),o.Cc(7,"remove_circle_outline"),o.Rb(),o.Cc(8," Remover "),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.Bb(1),o.jc("routerLink","edit/"+t.id)}}function B(t,e){1&t&&o.Nb(0,"tr",28)}function I(t,e){1&t&&o.Nb(0,"tr",29)}let M=(()=>{class t{constructor(t,e){this.categoryService=t,this.alertService=e,this.displayedColumns=["id","name","slug","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.categoryService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.categoryService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(s),o.Mb(l.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-categories"]],decls:30,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","slug"],["matColumnDef","sku"],["matColumnDef","price"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.Ac(0,f,1,0,"mat-progress-bar",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"h1",3),o.Cc(4,"Categorias"),o.Rb(),o.Sb(5,"button",4),o.Nb(6,"i",5),o.Cc(7," Adicionar "),o.Rb(),o.Rb(),o.Sb(8,"table",6),o.Qb(9,7),o.Ac(10,S,2,0,"th",8),o.Ac(11,C,2,1,"td",9),o.Pb(),o.Qb(12,10),o.Ac(13,v,2,0,"th",11),o.Ac(14,R,2,1,"td",9),o.Pb(),o.Qb(15,12),o.Ac(16,y,2,0,"th",11),o.Ac(17,A,2,1,"td",9),o.Pb(),o.Qb(18,13),o.Ac(19,w,2,0,"th",11),o.Ac(20,D,2,1,"td",9),o.Pb(),o.Qb(21,14),o.Ac(22,k,2,0,"th",11),o.Ac(23,j,2,1,"td",9),o.Pb(),o.Qb(24,15),o.Ac(25,x,2,0,"th",16),o.Ac(26,N,9,1,"td",9),o.Pb(),o.Ac(27,B,1,0,"tr",17),o.Ac(28,I,1,0,"tr",18),o.Rb(),o.Sb(29,"mat-paginator",19),o.ac("page",(function(t){return e.pageChange(t)})),o.Rb(),o.Rb()),2&t&&(o.jc("ngIf",e.loading),o.Bb(8),o.jc("dataSource",e.dataSource),o.Bb(19),o.jc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.jc("matRowDefColumns",e.displayedColumns),o.Bb(1),o.jc("pageIndex",e.page)("length",e.total))},directives:[a.l,b.c,b.b,d.b,r.c,u.j,b.a,m.a,u.c,u.e,u.b,u.g,u.i,h.a,p.a,u.d,u.a,g.a,u.f,u.h],styles:[""]}),t})();var G=i("3Pt+"),L=i("sAQj"),P=i("Qj20"),Q=i("kmnG"),U=i("qFsG"),E=i("KyJ7");function q(t,e){1&t&&o.Nb(0,"mat-progress-bar",11)}let H=(()=>{class t{constructor(t=null,e,i,a,r){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=a,this.categoryService=r,this.id=null,this.token=L.a.generate(),this.fileType=P.a.category,this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[G.v.required,G.v.maxLength(255)]],description:[null],slug:[null]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get(),this.dataprovider()}dataprovider(){this.loading=!0,this.categoryService.dataprovider().subscribe(t=>{}).add(()=>this.loading=!1)}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.categoryService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","categories"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.categoryService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","categories"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.categoryService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(G.e),o.Mb(r.b),o.Mb(r.a),o.Mb(l.a),o.Mb(s))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-add-edit"]],decls:22,vars:8,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","slug"],["matInput","","required","","formControlName","description"],[3,"multiple","type","id","token"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(o.Ac(0,q,1,0,"mat-progress-bar",0),o.Sb(1,"div",1),o.Sb(2,"h1"),o.Cc(3),o.Rb(),o.Sb(4,"button",2),o.ac("click",(function(){return e.submit()})),o.Nb(5,"i",3),o.Cc(6),o.Rb(),o.Rb(),o.Sb(7,"form",4),o.ac("submit",(function(){return e.submit()})),o.Sb(8,"div",5),o.Sb(9,"mat-form-field",6),o.Sb(10,"mat-label"),o.Cc(11,"Nome da Categoria"),o.Rb(),o.Nb(12,"input",7),o.Rb(),o.Sb(13,"mat-form-field",6),o.Sb(14,"mat-label"),o.Cc(15,"C\xf3digo (Slug)"),o.Rb(),o.Nb(16,"input",8),o.Rb(),o.Sb(17,"mat-form-field",6),o.Sb(18,"mat-label"),o.Cc(19,"Descri\xe7\xe3o"),o.Rb(),o.Nb(20,"textarea",9),o.Rb(),o.Nb(21,"app-file-upload",10),o.Rb(),o.Rb()),2&t&&(o.jc("ngIf",e.loading),o.Bb(3),o.Ec("",e.id?"Editar":"Adicionar"," Categoria"),o.Bb(3),o.Ec(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),o.Bb(1),o.jc("formGroup",e.formGroup),o.Bb(14),o.jc("multiple",!1)("type",e.fileType)("id",e.id)("token",e.token))},directives:[a.l,b.c,b.b,d.b,G.w,G.p,G.j,Q.c,Q.f,U.b,G.c,G.u,G.o,G.h,E.a,p.a],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const $=[{path:"",component:M},{path:"add",component:H},{path:"edit/:id",component:H}];let J=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[r.e.forChild($)],r.e]}),t})();var T=i("7EHt"),W=i("TU8p"),K=i("Xa2L"),X=i("Wp6s"),z=i("1jcm"),F=i("MutI"),O=i("wZkO"),_=i("FKr1"),V=i("d3UM"),Z=i("Xx9n"),Y=i("g1/W"),tt=i("tmjD"),et=i("Qu3c"),it=i("/1cH"),at=i("WJ5W"),rt=i("zg7/");let ot=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[a.c,J,b.f,T.a,W.b,p.b,K.b,X.c,d.c,G.t,U.c,g.b,z.a,F.b,O.d,_.o,V.b,u.k,m.b,Z.a,Y.a,h.b,tt.b,et.b,it.a,at.b,rt.ProductsModule]]}),t})()}}]);