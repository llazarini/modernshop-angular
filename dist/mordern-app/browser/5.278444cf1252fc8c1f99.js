(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{KyJ7:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("fXoL"),a=i("tk/3"),s=i("AytR");let r=(()=>{class t{constructor(t){this.httpClient=t}store(t,e,i,n){const r=new FormData,o=new a.d;return o.append("Content-Type","multipart/form-data"),i?r.append("type_id",i.toString()):r.append("request_token",n.toString()),r.append("type",e),r.append("file",t),this.httpClient.post(s.a.baseAuthUrl+"/files/store",r,{headers:o})}delete(t){return this.httpClient.delete(s.a.baseAuthUrl+"/files/delete/"+t,{})}images(t,e){let i=new a.e;return i=i.append("type",t),i=i.append("id",e.toString()),this.httpClient.get(s.a.baseAuthUrl+"/files/images/",{params:i})}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(a.b))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=i("XiUz"),l=i("bTqV"),u=i("NFeN"),c=i("ofXK"),h=i("Xa2L");function d(t,e){if(1&t){const t=n.Tb();n.Qb(0),n.Sb(1,"div",9),n.Sb(2,"button",10),n.ac("click",(function(){n.rc(t);const i=e.$implicit;return n.ec().delete(i)})),n.Sb(3,"mat-icon"),n.Cc(4,"remove_circle_outline"),n.Rb(),n.Rb(),n.Rb(),n.Pb()}if(2&t){const t=e.$implicit;n.Bb(1),n.xc("background","url("+t.url+")")}}function p(t,e){1&t&&n.Nb(0,"mat-spinner",11)}let m=(()=>{class t{constructor(t){this.fileService=t,this.loading=0,this.files=[],this.uploaded=new n.o}set id(t){t&&(this.typeId=t,this.images())}get id(){return this.typeId}ngOnInit(){}changed(t){if(this.loading>0)return;const e=t.target.files.item(0);this.loading+=1,this.fileService.store(e,this.type,this.id,this.token).subscribe(t=>{!this.multiple&&this.files.length&&(this.delete(this.files[0]),this.files=[]),this.files.push(t),this.uploaded.emit(t)}).add(()=>this.loading-=1)}images(){this.loading+=1,this.fileService.images(this.type,this.id).subscribe(t=>{this.files=t.data}).add(()=>this.loading-=1)}delete(t){this.loading+=1,this.fileService.delete(t.id).subscribe(e=>{const i=this.files.findIndex(e=>e.id===t.id);i<0||this.files.splice(i,1)}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(r))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-file-upload"]],inputs:{type:"type",multiple:"multiple",token:"token",id:"id"},outputs:{uploaded:"uploaded"},decls:12,vars:3,consts:[["fxLayout","column"],["type","file",1,"file-input",3,"multiple","change"],["fileUpload",""],["fxLayout","row","fxLayoutAlign","start center",1,"file-upload","margin-bottom",3,"click"],["mat-mini-fab","","color","primary","type","button",1,"upload-btn"],[1,"margin-left","pointer"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"images","margin-top"],[4,"ngFor","ngForOf"],["mode","indeterminate",4,"ngIf"],[1,"image","margin-right","margin-bottom"],["mat-icon-button","","color","warn","type","button",3,"click"],["mode","indeterminate"]],template:function(t,e){if(1&t){const t=n.Tb();n.Sb(0,"div",0),n.Sb(1,"input",1,2),n.ac("change",(function(t){return e.changed(t)})),n.Rb(),n.Sb(3,"div",3),n.ac("click",(function(){return n.rc(t),n.oc(2).click()})),n.Sb(4,"button",4),n.Sb(5,"mat-icon"),n.Cc(6,"attach_file"),n.Rb(),n.Rb(),n.Sb(7,"div",5),n.Cc(8,"Selecione o arquivo"),n.Rb(),n.Rb(),n.Sb(9,"div",6),n.Ac(10,d,5,2,"ng-container",7),n.Ac(11,p,1,0,"mat-spinner",8),n.Rb(),n.Rb()}2&t&&(n.Bb(1),n.jc("multiple",e.multiple),n.Bb(9),n.jc("ngForOf",e.files),n.Bb(1),n.jc("ngIf",e.loading>0))},directives:[o.c,o.b,l.b,u.a,c.k,c.l,h.c],styles:[".file-input[_ngcontent-%COMP%]{display:none}.images[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:10px;border:3px solid #bebebe;background-size:cover!important}"]}),t})()},Qj20:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));let n=(()=>{class t{}return t.product="App\\Models\\Product",t.category="App\\Models\\Category",t.option="App\\Models\\Option",t})()},TT0I:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return p}));var n=i("fXoL"),a=i("3Pt+"),s=i("ofXK"),r=function(t){return t[t.FINANCIAL=0]="FINANCIAL",t[t.NATURAL=1]="NATURAL",t}({});let o=new n.s("currency.mask.config");class l{constructor(t){this.htmlInputElement=t}setCursorAt(t){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(t,t);else if(this.htmlInputElement.createTextRange){let e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}updateValueAndCursor(t,e,i){this.rawValue=t,this.setCursorAt(i-=e-t.length)}get canInputMoreNumbers(){let t=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(e==i||!this.htmlInputElement.value.substring(e,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),a="0"==this.htmlInputElement.value.substring(0,1);return t||n||a}get inputSelection(){let t=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)t=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{let i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){let n=this.htmlInputElement.value.length,a=this.htmlInputElement.value.replace(/\r\n/g,"\n"),s=this.htmlInputElement.createTextRange();s.moveToBookmark(i.getBookmark());let r=this.htmlInputElement.createTextRange();r.collapse(!1),s.compareEndPoints("StartToEnd",r)>-1?t=e=n:(t=-s.moveStart("character",-n),t+=a.slice(0,t).split("\n").length-1,s.compareEndPoints("EndToEnd",r)>-1?e=n:(e=-s.moveEnd("character",-n),e+=a.slice(0,e).split("\n").length-1))}}return{selectionStart:t,selectionEnd:e}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(t){this._storedRawValue=t,this.htmlInputElement&&(this.htmlInputElement.value=t)}get storedRawValue(){return this._storedRawValue||""}}class u{constructor(t,e){this.htmlInputElement=t,this.options=e,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new l(t),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(t){const{decimal:e,precision:i,inputMode:n}=this.options;let a=String.fromCharCode(t);const s=a===this.options.decimal;if(this.rawValue){let t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;const o=this.rawValue.substring(0,t);let l=this.rawValue.substring(i,this.rawValue.length);const u=-1!==o.indexOf(e);n===r.NATURAL&&u&&t===i&&(l=l.substring(1));const c=o+a+l;let h=t+1;if(!s&&a!==this.options.thousands||a!==l[0]){if(!this.SINGLE_DIGIT_REGEX.test(a))return}else h++;this.rawValue=c,this.updateFieldValue(h)}else{this.rawValue=this.applyMask(!1,a);let t=void 0;n===r.NATURAL&&i>0&&(t=this.rawValue.indexOf(e),s&&t++),this.updateFieldValue(t)}}applyMask(t,e,i=!1){let{allowNegative:n,decimal:a,precision:s,prefix:o,suffix:l,thousands:u,min:c,max:h,inputMode:d}=this.options,p=(e=t?new Number(e).toFixed(s):e).replace(this.ONLY_NUMBERS_REGEX,"");if(!p&&e!==a)return"";d!==r.NATURAL||t||i||(p=(e=this.padOrTrimPrecision(e)).replace(this.ONLY_NUMBERS_REGEX,""));let m=p.slice(0,p.length-s).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==m&&(m="0");let b=parseInt(m);m=m.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,u),u&&m.startsWith(u)&&(m=m.substring(1));let g=m,f=p.slice(p.length-s),R=parseInt(f)||0,S=e.indexOf("-")>-1;h=this.isNullOrUndefined(h)||this.isNullOrUndefined(c)?h:Math.max(h,c);let v=b+R/100;return v=S?-v:v,!this.isNullOrUndefined(h)&&v>h?this.applyMask(!0,h+""):!this.isNullOrUndefined(c)&&v<c?this.applyMask(!0,c+""):(s>0&&(g+="0"==g&&f.length<s?a+"0".repeat(s-1)+f:a+f),(S&&n&&0!=v?"-":"")+o+g+l)}padOrTrimPrecision(t){let{decimal:e,precision:i}=this.options,n=t.lastIndexOf(e);-1===n&&(n=t.length,t+=e);let a=t.substring(n).replace(this.ONLY_NUMBERS_REGEX,"");const s=a.length;if(s<i)for(let r=s;r<i;r++)a+="0";else s>i&&(a=a.substring(0,a.length+i-s));return t.substring(0,n)+e+a}clearMask(t){if(this.isNullable()&&""===t)return null;let e=(t||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((t,i)=>{const n=new RegExp(i,"g");e=e.replace(n,t)}),parseFloat(e)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(t){let{decimal:e,thousands:i,prefix:n,suffix:a,inputMode:s}=this.options;if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let o=this.inputSelection.selectionEnd,l=this.inputSelection.selectionStart;const u=this.rawValue.length-a.length;if(o=Math.min(u,Math.max(o,n.length)),l=Math.min(u,Math.max(l,n.length)),l===o&&this.inputSelection.selectionStart!==this.inputSelection.selectionEnd)return void this.updateFieldValue(l);let c=this.rawValue.indexOf(e);-1===c&&(c=this.rawValue.length);let h=0,d="";const p=c<o,m=c+1===o;if(o===l)if(8==t){if(l<=n.length)return;l--,this.rawValue.substr(l,1).match(/\d/)||l--,s===r.NATURAL&&p&&(h=-1,m&&this.value<10&&this.value>-10&&(d+="0"))}else if(46==t||63272==t){if(l===u)return;o++,this.rawValue.substr(l,1).match(/\d/)||(l++,o++)}if(s===r.NATURAL&&l>c){const t=o-l;for(let e=0;e<t;e++)d+="0"}let b=this.rawValue.length-o;this.rawValue=this.rawValue.substring(0,l)+d+this.rawValue.substring(o),this.rawValue.substr(n.length,1)===i&&(this.rawValue=this.rawValue.substring(0,n.length)+this.rawValue.substring(n.length+1),b=Math.min(b,this.rawValue.length-n.length)),this.updateFieldValue(this.rawValue.length-b+h,!0)}updateFieldValue(t,e=!1){let i=this.applyMask(!1,this.rawValue||"",e);t=null==t?this.rawValue.length:t,t=Math.max(this.options.prefix.length,Math.min(t,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,t)}updateOptions(t){let e=this.value;this.options=t,this.value=e}prefixLength(){return this.options.prefix.length}suffixLength(){return this.options.suffix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(t){this.inputManager.rawValue=t}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(t){this.rawValue=this.applyMask(!0,""+t)}isNullOrUndefined(t){return null==t}}class c{constructor(t,e){this.inputService=new u(t,e)}handleCut(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(t){let e=this.inputService.inputSelection.selectionStart,i=this.inputService.rawValue.charCodeAt(e-1),n=this.inputService.rawValue.length,a=this.inputService.storedRawValue.length;if(1!=Math.abs(n-a))return this.inputService.updateFieldValue(e),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,n<a&&this.timer(()=>{this.inputService.updateFieldValue(e+1),this.inputService.removeNumber(8),this.onModelChange(this.inputService.value)},0),n>a&&(this.inputService.updateFieldValue(e-1),this.handleKeypressImpl(i))}handleKeydown(t){let e=t.which||t.charCode||t.keyCode;8!=e&&46!=e&&63272!=e||(t.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)))}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(t){let e=t.which||t.charCode||t.keyCode;t.preventDefault(),97===e&&t.ctrlKey||this.handleKeypressImpl(e)}handleKeypressImpl(t){switch(t){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(t))}this.onModelChange(this.inputService.value)}handlePaste(t){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(t){this.inputService.updateOptions(t)}getOnModelChange(){return this.onModelChange}setOnModelChange(t){this.onModelChange=t}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(t){this.onModelTouched=t}setValue(t){this.inputService.value=t}timer(t,e){setTimeout(t,e)}}const h={provide:a.m,useExisting:Object(n.V)(()=>d),multi:!0};let d=(()=>{class t{constructor(t,e,i){this.currencyMaskConfig=t,this.elementRef=e,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:r.FINANCIAL},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new c(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleCut(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(t)}handlePaste(t){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(t)}handleDrop(t){this.isChromeAndroid()||t.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}writeValue(t){this.inputHandler.setValue(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(o,8),n.Mb(n.l),n.Mb(n.v))},t.\u0275dir=n.Hb({type:t,selectors:[["","currencyMask",""]],hostBindings:function(t,e){1&t&&n.ac("blur",(function(t){return e.handleBlur(t)}))("cut",(function(t){return e.handleCut(t)}))("input",(function(t){return e.handleInput(t)}))("keydown",(function(t){return e.handleKeydown(t)}))("keypress",(function(t){return e.handleKeypress(t)}))("paste",(function(t){return e.handlePaste(t)}))("drop",(function(t){return e.handleDrop(t)}))},inputs:{options:"options"},features:[n.Ab([h])]}),t})(),p=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:o,useValue:e}]}}}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[s.c,a.k]]}),t})()},sAQj:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{static generate(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},"zg7/":function(t,e,i){"use strict";i.r(e),i.d(e,"ProductsModule",(function(){return mt}));var n=i("ofXK"),a=i("tyNb"),s=i("fXoL"),r=i("tk/3"),o=i("AytR");let l=(()=>{class t{constructor(t){this.httpClient=t}carousel(t){let e=new r.e;return e=e.append("slug",t),this.httpClient.get(o.a.baseAuthUrl+"/products/slug",{params:e})}getAll(t){let e=new r.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(o.a.baseAuthUrl+"/products/get-all",{params:e})}update(t){return this.httpClient.put(o.a.baseAuthUrl+"/products/update/"+t.id,t)}store(t){return this.httpClient.post(o.a.baseAuthUrl+"/products/store",t)}dataprovider(){return this.httpClient.get(o.a.baseAuthUrl+"/products/dataprovider/",{})}get(t){return this.httpClient.get(o.a.baseAuthUrl+"/products/get/"+t,{})}delete(t){return this.httpClient.delete(o.a.baseAuthUrl+"/products/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(r.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("kyzu"),c=i("XiUz"),h=i("bTqV"),d=i("+0xr"),p=i("Dh3D"),m=i("M9IT"),b=i("bv9b"),g=i("NFeN");function f(t,e){1&t&&s.Nb(0,"mat-progress-bar",20)}function R(t,e){1&t&&(s.Sb(0,"th",21),s.Cc(1,"#"),s.Rb())}function S(t,e){if(1&t&&(s.Sb(0,"td",22),s.Cc(1),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(t.id)}}function v(t,e){1&t&&(s.Sb(0,"th",23),s.Cc(1,"Nome"),s.Rb())}function w(t,e){if(1&t&&(s.Sb(0,"td",22),s.Cc(1),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(t.name)}}function C(t,e){1&t&&(s.Sb(0,"th",23),s.Cc(1,"C\xf3digo (SKU)"),s.Rb())}function E(t,e){if(1&t&&(s.Sb(0,"td",22),s.Cc(1),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(t.sku)}}function A(t,e){1&t&&(s.Sb(0,"th",23),s.Cc(1,"Pre\xe7o (R$)"),s.Rb())}function y(t,e){if(1&t&&(s.Sb(0,"td",22),s.Cc(1),s.fc(2,"currency"),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(s.gc(2,1,t.price))}}function M(t,e){1&t&&(s.Sb(0,"th",23),s.Cc(1,"Pre\xe7o de Custo (R$)"),s.Rb())}function N(t,e){if(1&t&&(s.Sb(0,"td",22),s.Cc(1),s.fc(2,"currency"),s.Rb()),2&t){const t=e.$implicit;s.Bb(1),s.Dc(s.gc(2,1,t.price_cost))}}function V(t,e){1&t&&(s.Sb(0,"th",24),s.Cc(1,"A\xe7\xf5es"),s.Rb())}function x(t,e){if(1&t){const t=s.Tb();s.Sb(0,"td",22),s.Sb(1,"button",25),s.Sb(2,"mat-icon",26),s.Cc(3,"edit"),s.Rb(),s.Cc(4," Editar "),s.Rb(),s.Sb(5,"button",27),s.ac("click",(function(){s.rc(t);const i=e.$implicit;return s.ec().deleteConfirm(i)})),s.Sb(6,"mat-icon",26),s.Cc(7,"remove_circle_outline"),s.Rb(),s.Cc(8," Remover "),s.Rb(),s.Rb()}if(2&t){const t=e.$implicit;s.Bb(1),s.jc("routerLink","edit/"+t.id)}}function I(t,e){1&t&&s.Nb(0,"tr",28)}function _(t,e){1&t&&s.Nb(0,"tr",29)}let k=(()=>{class t{constructor(t,e){this.productService=t,this.alertService=e,this.displayedColumns=["id","name","sku","price","price_cost","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.productService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.productService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(l),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-products"]],decls:30,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","sku"],["matColumnDef","price"],["matColumnDef","price_cost"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Ac(0,f,1,0,"mat-progress-bar",0),s.Sb(1,"div",1),s.Sb(2,"div",2),s.Sb(3,"h1",3),s.Cc(4,"Produtos"),s.Rb(),s.Sb(5,"button",4),s.Nb(6,"i",5),s.Cc(7," Adicionar "),s.Rb(),s.Rb(),s.Sb(8,"table",6),s.Qb(9,7),s.Ac(10,R,2,0,"th",8),s.Ac(11,S,2,1,"td",9),s.Pb(),s.Qb(12,10),s.Ac(13,v,2,0,"th",11),s.Ac(14,w,2,1,"td",9),s.Pb(),s.Qb(15,12),s.Ac(16,C,2,0,"th",11),s.Ac(17,E,2,1,"td",9),s.Pb(),s.Qb(18,13),s.Ac(19,A,2,0,"th",11),s.Ac(20,y,3,3,"td",9),s.Pb(),s.Qb(21,14),s.Ac(22,M,2,0,"th",11),s.Ac(23,N,3,3,"td",9),s.Pb(),s.Qb(24,15),s.Ac(25,V,2,0,"th",16),s.Ac(26,x,9,1,"td",9),s.Pb(),s.Ac(27,I,1,0,"tr",17),s.Ac(28,_,1,0,"tr",18),s.Rb(),s.Sb(29,"mat-paginator",19),s.ac("page",(function(t){return e.pageChange(t)})),s.Rb(),s.Rb()),2&t&&(s.jc("ngIf",e.loading),s.Bb(8),s.jc("dataSource",e.dataSource),s.Bb(19),s.jc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.jc("matRowDefColumns",e.displayedColumns),s.Bb(1),s.jc("pageIndex",e.page)("length",e.total))},directives:[n.l,c.c,c.b,h.b,a.c,d.j,c.a,p.a,d.c,d.e,d.b,d.g,d.i,m.a,b.a,d.d,d.a,g.a,d.f,d.h],pipes:[n.d],styles:[""]}),t})();var B=i("3Pt+"),P=i("sAQj"),O=i("Qj20"),U=i("wZkO"),T=i("kmnG"),L=i("qFsG"),D=i("TT0I"),F=i("KyJ7"),j=i("MutI");function K(t,e){1&t&&s.Nb(0,"mat-progress-bar",25)}function G(t,e){1&t&&(s.Nb(0,"i",26),s.Cc(1,"Dados B\xe1sicos "))}function H(t,e){1&t&&(s.Nb(0,"i",27),s.Cc(1," Imagens "))}function X(t,e){1&t&&(s.Nb(0,"i",28),s.Cc(1," Meta tags "))}function $(t,e){1&t&&(s.Nb(0,"i",29),s.Cc(1," Op\xe7\xf5es "))}function q(t,e){if(1&t&&(s.Sb(0,"mat-list-option",30),s.Cc(1),s.Rb()),2&t){const t=e.$implicit;s.jc("value",t.id),s.Bb(1),s.Ec(" ",t.name," ")}}function Q(t,e){1&t&&(s.Nb(0,"i",29),s.Cc(1," Categorias "))}function z(t,e){if(1&t&&(s.Sb(0,"mat-list-option",30),s.Cc(1),s.Rb()),2&t){const t=e.$implicit;s.jc("value",t.id),s.Bb(1),s.Ec(" ",t.name," ")}}const J=function(){return{prefix:"R$ ",thousands:".",decimal:","}};let W=(()=>{class t{constructor(t,e,i,n){this.router=t,this.activatedRoute=e,this.alertService=i,this.productService=n,this.loading=0,this.id=null,this.fileType=O.a.product,this.token=P.a.generate(),this.categories=[],this.options=[],this.formGroup=new B.i({request_token:new B.f([this.token]),id:new B.f([null]),sku:new B.f([null]),name:new B.f([null,[B.v.required,B.v.maxLength(255)]]),description:new B.f([null]),price:new B.f([null]),price_cost:new B.f([null]),meta_name:new B.f([null]),meta_description:new B.f([null]),meta_keys:new B.f([null]),categories:new B.f([]),options:new B.f([])})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.dataprovider(),this.id&&this.get()}dataprovider(){this.loading+=1,this.productService.dataprovider().subscribe(t=>{this.categories=t.categories,this.options=t.options}).add(()=>this.loading-=1)}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading+=1,this.productService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","products"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}update(){this.loading+=1,this.productService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","products"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}get(){this.loading+=1,this.productService.get(this.id).subscribe(t=>{var e,i;const n=t;n.options=null===(e=t.options)||void 0===e?void 0:e.map(t=>t.id),n.categories=null===(i=t.categories)||void 0===i?void 0:i.map(t=>t.id),this.formGroup.patchValue(n)}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(a.b),s.Mb(a.a),s.Mb(u.a),s.Mb(l))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-add-edit"]],decls:66,vars:14,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form",3,"formGroup","submit"],[1,"vertical"],["mat-tab-label",""],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","sku"],["matInput","","required","","formControlName","description"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap.gt-xs","15px"],["fxFlex","","appearance","outline"],["currencyMask","","matInput","","required","","formControlName","price_cost",3,"options"],["currencyMask","","matInput","","required","","formControlName","price",3,"options"],["fxLayout","row",1,"common-form-max"],[3,"multiple","type","id","token"],["matInput","","required","","formControlName","meta_name"],["matInput","","required","","formControlName","meta_description"],["matInput","","required","","formControlName","meta_keys"],[1,"common-form-max"],["formControlName","options"],[3,"value",4,"ngFor","ngForOf"],["formControlName","categories"],["mode","indeterminate",1,"progress"],[1,"mdi","mdi-pencil","margin-right"],[1,"mdi","mdi-image","margin-right"],[1,"mdi","mdi-text","margin-right"],[1,"mdi","mdi-chart-bar","margin-right"],[3,"value"]],template:function(t,e){1&t&&(s.Ac(0,K,1,0,"mat-progress-bar",0),s.Sb(1,"div",1),s.Sb(2,"h1"),s.Cc(3),s.Rb(),s.Sb(4,"button",2),s.ac("click",(function(){return e.submit()})),s.Nb(5,"i",3),s.Cc(6),s.Rb(),s.Rb(),s.Sb(7,"form",4),s.ac("submit",(function(){return e.submit()})),s.Sb(8,"mat-tab-group",5),s.Sb(9,"mat-tab"),s.Ac(10,G,2,0,"ng-template",6),s.Sb(11,"div",7),s.Sb(12,"mat-form-field",8),s.Sb(13,"mat-label"),s.Cc(14,"Nome do Produto"),s.Rb(),s.Nb(15,"input",9),s.Rb(),s.Sb(16,"mat-form-field",8),s.Sb(17,"mat-label"),s.Cc(18,"C\xf3digo do Produto (SKU)"),s.Rb(),s.Nb(19,"input",10),s.Rb(),s.Sb(20,"mat-form-field",8),s.Sb(21,"mat-label"),s.Cc(22,"Descri\xe7\xe3o do Produto"),s.Rb(),s.Nb(23,"textarea",11),s.Rb(),s.Sb(24,"div",12),s.Sb(25,"mat-form-field",13),s.Sb(26,"mat-label"),s.Cc(27,"Pre\xe7o de Custo"),s.Rb(),s.Nb(28,"input",14),s.Rb(),s.Sb(29,"mat-form-field",13),s.Sb(30,"mat-label"),s.Cc(31,"Pre\xe7o de Venda"),s.Rb(),s.Nb(32,"input",15),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(33,"mat-tab"),s.Ac(34,H,2,0,"ng-template",6),s.Sb(35,"div",16),s.Nb(36,"app-file-upload",17),s.Rb(),s.Rb(),s.Sb(37,"mat-tab"),s.Ac(38,X,2,0,"ng-template",6),s.Sb(39,"div",7),s.Sb(40,"mat-form-field",8),s.Sb(41,"mat-label"),s.Cc(42,"Meta Nome"),s.Rb(),s.Nb(43,"input",18),s.Rb(),s.Sb(44,"mat-form-field",8),s.Sb(45,"mat-label"),s.Cc(46,"Meta Descri\xe7\xe3o"),s.Rb(),s.Nb(47,"textarea",19),s.Rb(),s.Sb(48,"mat-form-field",8),s.Sb(49,"mat-label"),s.Cc(50,"Meta Keys"),s.Rb(),s.Nb(51,"textarea",20),s.Rb(),s.Rb(),s.Rb(),s.Sb(52,"mat-tab"),s.Ac(53,$,2,0,"ng-template",6),s.Sb(54,"div",21),s.Sb(55,"h3"),s.Cc(56,"Op\xe7\xf5es Dispon\xedveis"),s.Rb(),s.Sb(57,"mat-selection-list",22),s.Ac(58,q,2,2,"mat-list-option",23),s.Rb(),s.Rb(),s.Rb(),s.Sb(59,"mat-tab"),s.Ac(60,Q,2,0,"ng-template",6),s.Sb(61,"div",21),s.Sb(62,"h3"),s.Cc(63,"Categorias Dispon\xedveis"),s.Rb(),s.Sb(64,"mat-selection-list",24),s.Ac(65,z,2,2,"mat-list-option",23),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.jc("ngIf",e.loading>0),s.Bb(3),s.Ec("",e.id?"Editar":"Adicionar"," Produto"),s.Bb(3),s.Ec(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),s.Bb(1),s.jc("formGroup",e.formGroup),s.Bb(21),s.jc("options",s.kc(12,J)),s.Bb(4),s.jc("options",s.kc(13,J)),s.Bb(4),s.jc("multiple",!0)("type",e.fileType)("id",e.id)("token",e.token),s.Bb(22),s.jc("ngForOf",e.options),s.Bb(7),s.jc("ngForOf",e.categories))},directives:[n.l,c.c,c.b,h.b,B.w,B.p,B.j,U.b,U.a,U.c,T.c,T.f,L.b,B.c,B.u,B.o,B.h,c.d,c.a,D.a,F.a,j.e,n.k,b.a,j.c],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const Y=[{path:"",component:k},{path:"add",component:W},{path:"edit/:id",component:W}];let Z=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(Y)],a.e]}),t})();var tt=i("znSr"),et=i("7EHt"),it=i("TU8p"),nt=i("Xa2L"),at=i("Wp6s"),st=i("1jcm"),rt=i("FKr1"),ot=i("d3UM"),lt=i("Xx9n"),ut=i("g1/W"),ct=i("tmjD"),ht=i("Qu3c"),dt=i("/1cH"),pt=i("WJ5W");let mt=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[n.c,Z,c.f,et.a,it.b,b.b,nt.b,at.c,h.c,B.t,L.c,g.b,st.a,j.b,U.d,rt.o,ot.b,d.k,p.b,lt.a,ut.a,m.b,ct.b,ht.b,dt.a,pt.b,B.k,tt.c,D.b]]}),t})()}}]);