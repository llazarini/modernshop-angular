(self.webpackChunkmodernshop_app=self.webpackChunkmodernshop_app||[]).push([[768],{4768:(t,e,r)=>{"use strict";r.r(e),r.d(e,{UserModule:()=>tt});var a=r(1511),i=r(3548),o=r(1572),n=r(2198),s=r(8394),l=r(3722),u=r(5980),c=r(7033),d=r(8623),m=r(3005),h=r(5994),p=r(3691);function g(t,e){1&t&&o._UZ(0,"mat-progress-bar",17)}function f(t,e){1&t&&(o.TgZ(0,"th",18),o._uU(1,"#"),o.qZA())}function Z(t,e){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.id)}}function b(t,e){1&t&&(o.TgZ(0,"th",20),o._uU(1,"Nome"),o.qZA())}function v(t,e){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.name)}}function A(t,e){1&t&&(o.TgZ(0,"th",20),o._uU(1,"E-mail"),o.qZA())}function x(t,e){if(1&t&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.email)}}function q(t,e){1&t&&(o.TgZ(0,"th",21),o._uU(1,"A\xe7\xf5es"),o.qZA())}function w(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"td",19),o.TgZ(1,"button",22),o.TgZ(2,"mat-icon",23),o._uU(3,"edit"),o.qZA(),o._uU(4," Editar "),o.qZA(),o.TgZ(5,"button",24),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().deleteConfirm(e)}),o.TgZ(6,"mat-icon",23),o._uU(7,"remove_circle_outline"),o.qZA(),o._uU(8," Remover "),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit;o.xp6(1),o.Q6J("routerLink","edit/"+t.id)}}function y(t,e){1&t&&o._UZ(0,"tr",25)}function C(t,e){1&t&&o._UZ(0,"tr",26)}let T=(()=>{class t{constructor(t,e){this.userService=t,this.alertService=e,this.displayedColumns=["id","name","email","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.userService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.userService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.K),o.Y36(s.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-user"]],decls:23,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.YNc(0,g,1,0,"mat-progress-bar",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1",3),o._uU(4,"Colaboradores"),o.qZA(),o.TgZ(5,"button",4),o._uU(6," Adicionar "),o.qZA(),o.qZA(),o.TgZ(7,"table",5),o.ynx(8,6),o.YNc(9,f,2,0,"th",7),o.YNc(10,Z,2,1,"td",8),o.BQk(),o.ynx(11,9),o.YNc(12,b,2,0,"th",10),o.YNc(13,v,2,1,"td",8),o.BQk(),o.ynx(14,11),o.YNc(15,A,2,0,"th",10),o.YNc(16,x,2,1,"td",8),o.BQk(),o.ynx(17,12),o.YNc(18,q,2,0,"th",13),o.YNc(19,w,9,1,"td",8),o.BQk(),o.YNc(20,y,1,0,"tr",14),o.YNc(21,C,1,0,"tr",15),o.qZA(),o.TgZ(22,"mat-paginator",16),o.NdJ("page",function(t){return e.pageChange(t)}),o.qZA(),o.qZA()),2&t&&(o.Q6J("ngIf",e.loading),o.xp6(7),o.Q6J("dataSource",e.dataSource),o.xp6(13),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns),o.xp6(1),o.Q6J("pageIndex",e.page)("length",e.total))},directives:[a.O5,l.xw,l.Wh,u.lW,i.rH,c.BZ,l.yH,d.YE,c.w1,c.fO,c.Dz,c.as,c.nj,m.NW,h.pW,c.ge,c.ev,p.Hw,c.XQ,c.Gk],styles:[""]}),t})();var _=r(6073),U=r(6283),S=r(6756),Y=r(388);function N(t,e){1&t&&o._UZ(0,"mat-progress-bar",9)}const L=function(){return{prefix:"R$ ",thousands:".",decimal:","}};let k=(()=>{class t{constructor(t,e=null,r,a,i){this.userService=t,this.formBuilder=e,this.router=r,this.activatedRoute=a,this.alertService=i,this.id=null}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.formGroup=this.formBuilder.group({id:[null],name:[null,[_.kI.required,_.kI.maxLength(255)]],email:[null,[_.kI.required,_.kI.maxLength(2048)]],hourly_rate:[0]}),this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.userService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","users"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.userService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","users"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.userService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(n.K),o.Y36(_.qu),o.Y36(i.F0),o.Y36(i.gz),o.Y36(s.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-add-edit"]],decls:20,vars:5,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","email"],["matInput","","required","","currencyMask","","formControlName","hourly_rate",3,"options"],["color","primary","mat-flat-button",""],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(o.YNc(0,N,1,0,"mat-progress-bar",0),o.TgZ(1,"div",1),o.TgZ(2,"h1"),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"form",2),o.NdJ("submit",function(){return e.submit()}),o.TgZ(5,"div",3),o.TgZ(6,"mat-form-field",4),o.TgZ(7,"mat-label"),o._uU(8,"Nome do Colaborador"),o.qZA(),o._UZ(9,"input",5),o.qZA(),o.TgZ(10,"mat-form-field",4),o.TgZ(11,"mat-label"),o._uU(12,"E-mail"),o.qZA(),o._UZ(13,"input",6),o.qZA(),o.TgZ(14,"mat-form-field",4),o.TgZ(15,"mat-label"),o._uU(16,"Valor-hora do Colaborador"),o.qZA(),o._UZ(17,"input",7),o.qZA(),o.qZA(),o.TgZ(18,"button",8),o._uU(19,"Salvar"),o.qZA(),o.qZA()),2&t&&(o.Q6J("ngIf",e.loading),o.xp6(3),o.hij("",e.id?"Editar":"Adicionar"," Colaborador"),o.xp6(1),o.Q6J("formGroup",e.formGroup),o.xp6(13),o.Q6J("options",o.DdM(4,L)))},directives:[a.O5,l.xw,l.Wh,_._Y,_.JL,_.sg,U.KE,U.hX,S.Nt,_.Fj,_.Q7,_.JJ,_.u,Y.g1,u.lW,h.pW],styles:[""]}),t})();const D=[{path:"",component:T},{path:"add",component:k},{path:"edit/:id",component:k}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[i.Bz.forChild(D)],i.Bz]}),t})();var I=r(5001),Q=r(1050),B=r(7806),R=r(7439),E=r(7521),M=r(5250),O=r(5109),H=r(1522),z=r(4786),G=r(4621),W=r(2522),$=r(6899),j=r(4608),X=r(7770),P=r(5959);r(7570),r(1906),r(878),r(5842),r(611),r(6238),r(3835),r(9861),r(709),r(2526);let F=(()=>{class t{constructor(){this.changes=new P.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,o.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const V={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[W.aV],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[F,V],imports:[[a.ez,u.ot,j.Is,W.U8,G.rt,$.eL],X.ZD]}),t})(),tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.ez,J,l.ae,I.To,Q.g,h.Cv,B.Cq,R.QW,u.ot,_.UX,S.c,p.Ps,E.rP,M.ie,O.Nh,H.Ng,z.LD,c.p0,d.JX,K,H.XK,m.TU,Y.Ud]]}),t})()}}]);