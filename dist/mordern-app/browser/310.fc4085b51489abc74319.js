(self.webpackChunkmodernshop_app=self.webpackChunkmodernshop_app||[]).push([[310],{9310:(t,e,i)=>{"use strict";i.r(e),i.d(e,{OptionsModule:()=>dt});var r=i(1511),o=i(3722),a=i(5001),n=i(1050),l=i(5994),u=i(7806),s=i(7439),d=i(5980),m=i(6073),p=i(6756),c=i(3691),g=i(7521),h=i(5250),f=i(5109),Z=i(1522),A=i(4786),q=i(7033),b=i(8623),T=i(7898),v=i(689),_=i(3005),U=i(3920),x=i(6828),C=i(84),N=i(5619),y=i(3548),w=i(1572),k=i(9063),Y=i(529);let S=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new k.LE;return t&&(e=e.append("page",t.toString())),this.httpClient.get(Y.N.baseAuthUrl+"/options/get-all",{params:e})}update(t){return this.httpClient.put(Y.N.baseAuthUrl+"/options/update/"+t.id,t)}store(t){return this.httpClient.post(Y.N.baseAuthUrl+"/options/store",t)}dataprovider(){return this.httpClient.get(Y.N.baseAuthUrl+"/options/dataprovider/",{})}get(t){return this.httpClient.get(Y.N.baseAuthUrl+"/options/get/"+t,{})}delete(t){return this.httpClient.delete(Y.N.baseAuthUrl+"/options/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(w.LFG(k.eN))},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=i(8394),D=i(8509);function J(t,e){1&t&&w._UZ(0,"mat-progress-bar",21)}function Q(t,e){1&t&&(w.TgZ(0,"th",22),w._uU(1,"#"),w.qZA())}function O(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Oqu(t.id)}}function L(t,e){1&t&&(w.TgZ(0,"th",24),w._uU(1,"Atributo"),w.qZA())}function B(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Oqu(null==t.attribute?null:t.attribute.name)}}function F(t,e){1&t&&(w.TgZ(0,"th",24),w._uU(1,"Nome"),w.qZA())}function G(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.Oqu(t.name)}}function H(t,e){1&t&&(w.TgZ(0,"th",24),w._uU(1,"Pre\xe7o"),w.qZA())}function R(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.ALo(2,"price"),w.TgZ(3,"span",25),w._uU(4),w.qZA(),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.hij(" ",w.lcZ(2,2,t.price)," "),w.xp6(3),w.Oqu(t.type?"(+) Adicional":"(-) Remover")}}function j(t,e){1&t&&(w.TgZ(0,"th",24),w._uU(1,"Gramas"),w.qZA())}function z(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.hij(" ",t.weight," gramas ")}}function E(t,e){1&t&&(w.TgZ(0,"th",24),w._uU(1,"Tamanho"),w.qZA())}function $(t,e){if(1&t&&(w.TgZ(0,"td",23),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.xp6(1),w.lnq(" ",t.width," x ",t.length," x ",t.height," ")}}function W(t,e){1&t&&(w.TgZ(0,"th",26),w._uU(1,"A\xe7\xf5es"),w.qZA())}function P(t,e){if(1&t){const t=w.EpF();w.TgZ(0,"td",23),w.TgZ(1,"button",27),w.TgZ(2,"mat-icon",28),w._uU(3,"edit"),w.qZA(),w._uU(4," Editar "),w.qZA(),w.TgZ(5,"button",29),w.NdJ("click",function(){const e=w.CHM(t).$implicit;return w.oxw().deleteConfirm(e)}),w.TgZ(6,"mat-icon",28),w._uU(7,"remove_circle_outline"),w.qZA(),w._uU(8," Remover "),w.qZA(),w.qZA()}if(2&t){const t=e.$implicit;w.xp6(1),w.Q6J("routerLink","edit/"+t.id)}}function X(t,e){1&t&&w._UZ(0,"tr",30)}function M(t,e){1&t&&w._UZ(0,"tr",31)}let V=(()=>{class t{constructor(t,e){this.optionService=t,this.alertService=e,this.displayedColumns=["id","name","attribute","price","weight","size","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.optionService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.optionService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(S),w.Y36(I.c))},t.\u0275cmp=w.Xpm({type:t,selectors:[["app-options"]],decls:33,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","attribute"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","weight"],["matColumnDef","size"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],[1,"muted"],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(w.YNc(0,J,1,0,"mat-progress-bar",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"h1",3),w._uU(4,"Op\xe7\xf5es"),w.qZA(),w.TgZ(5,"button",4),w._UZ(6,"i",5),w._uU(7," Adicionar "),w.qZA(),w.qZA(),w.TgZ(8,"table",6),w.ynx(9,7),w.YNc(10,Q,2,0,"th",8),w.YNc(11,O,2,1,"td",9),w.BQk(),w.ynx(12,10),w.YNc(13,L,2,0,"th",11),w.YNc(14,B,2,1,"td",9),w.BQk(),w.ynx(15,12),w.YNc(16,F,2,0,"th",11),w.YNc(17,G,2,1,"td",9),w.BQk(),w.ynx(18,13),w.YNc(19,H,2,0,"th",11),w.YNc(20,R,5,4,"td",9),w.BQk(),w.ynx(21,14),w.YNc(22,j,2,0,"th",11),w.YNc(23,z,2,1,"td",9),w.BQk(),w.ynx(24,15),w.YNc(25,E,2,0,"th",11),w.YNc(26,$,2,3,"td",9),w.BQk(),w.ynx(27,16),w.YNc(28,W,2,0,"th",17),w.YNc(29,P,9,1,"td",9),w.BQk(),w.YNc(30,X,1,0,"tr",18),w.YNc(31,M,1,0,"tr",19),w.qZA(),w.TgZ(32,"mat-paginator",20),w.NdJ("page",function(t){return e.pageChange(t)}),w.qZA(),w.qZA()),2&t&&(w.Q6J("ngIf",e.loading),w.xp6(8),w.Q6J("dataSource",e.dataSource),w.xp6(22),w.Q6J("matHeaderRowDef",e.displayedColumns),w.xp6(1),w.Q6J("matRowDefColumns",e.displayedColumns),w.xp6(1),w.Q6J("pageIndex",e.page)("length",e.total))},directives:[r.O5,o.xw,o.Wh,d.lW,y.rH,q.BZ,o.yH,b.YE,q.w1,q.fO,q.Dz,q.as,q.nj,_.NW,l.pW,q.ge,q.ev,c.Hw,q.XQ,q.Gk],pipes:[D.d],styles:[""]}),t})();var K=i(4912),tt=i(7809),et=i(6283),it=i(4946);function rt(t,e){1&t&&w._UZ(0,"mat-progress-bar",22)}function ot(t,e){if(1&t&&(w.TgZ(0,"mat-option",11),w._uU(1),w.qZA()),2&t){const t=e.$implicit;w.Q6J("value",t.id),w.xp6(1),w.Oqu(t.name)}}let at=(()=>{class t{constructor(t=null,e,i,r,o){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=r,this.optionService=o,this.loading=0,this.id=null,this.fileType=K.r.option,this.token=tt.v.generate(),this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],attribute_id:[null,m.kI.required],name:[null,[m.kI.required,m.kI.maxLength(255)]],price:[null,[m.kI.required]],type:[null,[m.kI.required]],description:[null,[m.kI.required]],weight:[null,[m.kI.required]],height:[null,[m.kI.required]],width:[null,[m.kI.required]],length:[null,[m.kI.required]]})}ngOnInit(){this.dataprovider(),this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading+=1,this.optionService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}update(){this.loading+=1,this.optionService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}get(){this.loading+=1,this.optionService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading-=1)}dataprovider(){this.loading+=1,this.optionService.dataprovider().subscribe(t=>{this.attributes=t.attributes}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(w.Y36(m.qu),w.Y36(y.F0),w.Y36(y.gz),w.Y36(I.c),w.Y36(S))},t.\u0275cmp=w.Xpm({type:t,selectors:[["app-add-edit"]],decls:53,vars:11,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["formControlName","attribute_id","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],[3,"value"],["matInput","","required","","formControlName","price"],["matInput","","required","","formControlName","description"],["fxLayout","row"],["fxFlex","","appearance","outline"],["matInput","","required","","type","number","formControlName","weight"],["fxFlex","","appearance","outline",1,"margin-left"],["matInput","","required","","type","number","formControlName","width"],["matInput","","required","","type","number","formControlName","height"],["matInput","","required","","type","number","formControlName","length"],[3,"multiple","type","id","token"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(w.YNc(0,rt,1,0,"mat-progress-bar",0),w.TgZ(1,"div",1),w.TgZ(2,"h1"),w._uU(3),w.qZA(),w.TgZ(4,"button",2),w.NdJ("click",function(){return e.submit()}),w._UZ(5,"i",3),w._uU(6),w.qZA(),w.qZA(),w.TgZ(7,"form",4),w.NdJ("submit",function(){return e.submit()}),w.TgZ(8,"div",5),w.TgZ(9,"mat-form-field",6),w.TgZ(10,"mat-label"),w._uU(11,"Nome da Op\xe7\xe3o"),w.qZA(),w._UZ(12,"input",7),w.qZA(),w.TgZ(13,"mat-form-field",6),w.TgZ(14,"mat-label"),w._uU(15,"Atributo relacionado"),w.qZA(),w.TgZ(16,"mat-select",8),w.YNc(17,ot,2,2,"mat-option",9),w.qZA(),w.qZA(),w.TgZ(18,"mat-form-field",6),w.TgZ(19,"mat-label"),w._uU(20,"Tipo"),w.qZA(),w.TgZ(21,"mat-select",10),w.TgZ(22,"mat-option",11),w._uU(23,"Adicional (+)"),w.qZA(),w.TgZ(24,"mat-option",11),w._uU(25,"Adicional (-)"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(26,"mat-form-field",6),w.TgZ(27,"mat-label"),w._uU(28,"Pre\xe7o"),w.qZA(),w._UZ(29,"input",12),w.qZA(),w.TgZ(30,"mat-form-field",6),w.TgZ(31,"mat-label"),w._uU(32,"Descri\xe7\xe3o"),w.qZA(),w._UZ(33,"textarea",13),w.qZA(),w.TgZ(34,"div",14),w.TgZ(35,"mat-form-field",15),w.TgZ(36,"mat-label"),w._uU(37,"Peso (g)"),w.qZA(),w._UZ(38,"input",16),w.qZA(),w.TgZ(39,"mat-form-field",17),w.TgZ(40,"mat-label"),w._uU(41,"Comprimento (cm)"),w.qZA(),w._UZ(42,"input",18),w.qZA(),w.qZA(),w.TgZ(43,"div",14),w.TgZ(44,"mat-form-field",15),w.TgZ(45,"mat-label"),w._uU(46,"Altura (cm)"),w.qZA(),w._UZ(47,"input",19),w.qZA(),w.TgZ(48,"mat-form-field",17),w.TgZ(49,"mat-label"),w._uU(50,"Largura (cm)"),w.qZA(),w._UZ(51,"input",20),w.qZA(),w.qZA(),w._UZ(52,"app-file-upload",21),w.qZA(),w.qZA()),2&t&&(w.Q6J("ngIf",e.loading>0),w.xp6(3),w.hij("",e.id?"Editar":"Adicionar"," Op\xe7\xe3o"),w.xp6(3),w.hij(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),w.xp6(1),w.Q6J("formGroup",e.formGroup),w.xp6(10),w.Q6J("ngForOf",e.attributes),w.xp6(5),w.Q6J("value",1),w.xp6(2),w.Q6J("value",0),w.xp6(28),w.Q6J("multiple",!1)("type",e.fileType)("id",e.id)("token",e.token))},directives:[r.O5,o.xw,o.Wh,d.lW,m._Y,m.JL,m.sg,et.KE,et.hX,p.Nt,m.Fj,m.Q7,m.JJ,m.u,A.gD,r.sg,Z.ey,o.yH,m.wV,it.Y,l.pW],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const nt=[{path:"",component:V},{path:"add",component:at},{path:"edit/:id",component:at}];let lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[y.Bz.forChild(nt)],y.Bz]}),t})();var ut=i(1575),st=i(6712);let dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({imports:[[r.ez,lt,o.ae,a.To,n.g,l.Cv,u.Cq,s.QW,d.ot,m.UX,p.c,c.Ps,g.rP,h.ie,f.Nh,Z.Ng,A.LD,q.p0,b.JX,T.f,v.w,_.TU,U.yI,x.AV,C.Bb,N.Co,ut.n,st.ProductsModule]]}),t})()}}]);