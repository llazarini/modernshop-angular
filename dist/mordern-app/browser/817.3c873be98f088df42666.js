(self.webpackChunkmodernshop_app=self.webpackChunkmodernshop_app||[]).push([[817],{4817:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CategoriesModule:()=>ot});var r=i(1511),a=i(3548),o=i(1572),n=i(9063),s=i(529);let l=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new n.LE;return t&&(e=e.append("page",t.toString())),this.httpClient.get(s.N.baseAuthUrl+"/categories/get-all",{params:e})}update(t){return this.httpClient.put(s.N.baseAuthUrl+"/categories/update/"+t.id,t)}store(t){return this.httpClient.post(s.N.baseAuthUrl+"/categories/store",t)}dataprovider(){return this.httpClient.get(s.N.baseAuthUrl+"/categories/dataprovider/",{})}get(t){return this.httpClient.get(s.N.baseAuthUrl+"/categories/get/"+t,{})}delete(t){return this.httpClient.delete(s.N.baseAuthUrl+"/categories/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(n.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=i(8394),u=i(3722),d=i(5980),m=i(7033),g=i(8623),p=i(3005),h=i(5994),f=i(3691);function Z(t,e){1&t&&o._UZ(0,"mat-progress-bar",20)}function A(t,e){1&t&&(o.TgZ(0,"th",21),o._uU(1,"#"),o.qZA())}function v(t,e){if(1&t&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.id)}}function b(t,e){1&t&&(o.TgZ(0,"th",23),o._uU(1,"Nome"),o.qZA())}function q(t,e){if(1&t&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.name)}}function C(t,e){1&t&&(o.TgZ(0,"th",23),o._uU(1,"Slug"),o.qZA())}function y(t,e){if(1&t&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.slug)}}function U(t,e){1&t&&(o.TgZ(0,"th",23),o._uU(1,"C\xf3digo / Slug"),o.qZA())}function x(t,e){if(1&t&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.slug)}}function _(t,e){1&t&&(o.TgZ(0,"th",23),o._uU(1,"Descri\xe7\xe3o"),o.qZA())}function T(t,e){if(1&t&&(o.TgZ(0,"td",22),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Oqu(t.description)}}function N(t,e){1&t&&(o.TgZ(0,"th",24),o._uU(1,"A\xe7\xf5es"),o.qZA())}function S(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"td",22),o.TgZ(1,"button",25),o.TgZ(2,"mat-icon",26),o._uU(3,"edit"),o.qZA(),o._uU(4," Editar "),o.qZA(),o.TgZ(5,"button",27),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().deleteConfirm(e)}),o.TgZ(6,"mat-icon",26),o._uU(7,"remove_circle_outline"),o.qZA(),o._uU(8," Remover "),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit;o.xp6(1),o.Q6J("routerLink","edit/"+t.id)}}function w(t,e){1&t&&o._UZ(0,"tr",28)}function k(t,e){1&t&&o._UZ(0,"tr",29)}let Y=(()=>{class t{constructor(t,e){this.categoryService=t,this.alertService=e,this.displayedColumns=["id","name","slug","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.categoryService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.categoryService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(l),o.Y36(c.c))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-categories"]],decls:30,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","slug"],["matColumnDef","sku"],["matColumnDef","price"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(o.YNc(0,Z,1,0,"mat-progress-bar",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1",3),o._uU(4,"Categorias"),o.qZA(),o.TgZ(5,"button",4),o._UZ(6,"i",5),o._uU(7," Adicionar "),o.qZA(),o.qZA(),o.TgZ(8,"table",6),o.ynx(9,7),o.YNc(10,A,2,0,"th",8),o.YNc(11,v,2,1,"td",9),o.BQk(),o.ynx(12,10),o.YNc(13,b,2,0,"th",11),o.YNc(14,q,2,1,"td",9),o.BQk(),o.ynx(15,12),o.YNc(16,C,2,0,"th",11),o.YNc(17,y,2,1,"td",9),o.BQk(),o.ynx(18,13),o.YNc(19,U,2,0,"th",11),o.YNc(20,x,2,1,"td",9),o.BQk(),o.ynx(21,14),o.YNc(22,_,2,0,"th",11),o.YNc(23,T,2,1,"td",9),o.BQk(),o.ynx(24,15),o.YNc(25,N,2,0,"th",16),o.YNc(26,S,9,1,"td",9),o.BQk(),o.YNc(27,w,1,0,"tr",17),o.YNc(28,k,1,0,"tr",18),o.qZA(),o.TgZ(29,"mat-paginator",19),o.NdJ("page",function(t){return e.pageChange(t)}),o.qZA(),o.qZA()),2&t&&(o.Q6J("ngIf",e.loading),o.xp6(8),o.Q6J("dataSource",e.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns),o.xp6(1),o.Q6J("pageIndex",e.page)("length",e.total))},directives:[r.O5,u.xw,u.Wh,d.lW,a.rH,m.BZ,u.yH,g.YE,m.w1,m.fO,m.Dz,m.as,m.nj,p.NW,h.pW,m.ge,m.ev,f.Hw,m.XQ,m.Gk],styles:[""]}),t})();var D=i(6073),J=i(7809),Q=i(4912),I=i(6283),B=i(6756),L=i(4946);function O(t,e){1&t&&o._UZ(0,"mat-progress-bar",11)}let E=(()=>{class t{constructor(t=null,e,i,r,a){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=r,this.categoryService=a,this.id=null,this.token=J.v.generate(),this.fileType=Q.r.category,this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[D.kI.required,D.kI.maxLength(255)]],description:[null],slug:[null]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get(),this.dataprovider()}dataprovider(){this.loading=!0,this.categoryService.dataprovider().subscribe(t=>{}).add(()=>this.loading=!1)}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.categoryService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","categories"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.categoryService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","categories"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.categoryService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(D.qu),o.Y36(a.F0),o.Y36(a.gz),o.Y36(c.c),o.Y36(l))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-add-edit"]],decls:22,vars:8,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","slug"],["matInput","","required","","formControlName","description"],[3,"multiple","type","id","token"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(o.YNc(0,O,1,0,"mat-progress-bar",0),o.TgZ(1,"div",1),o.TgZ(2,"h1"),o._uU(3),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return e.submit()}),o._UZ(5,"i",3),o._uU(6),o.qZA(),o.qZA(),o.TgZ(7,"form",4),o.NdJ("submit",function(){return e.submit()}),o.TgZ(8,"div",5),o.TgZ(9,"mat-form-field",6),o.TgZ(10,"mat-label"),o._uU(11,"Nome da Categoria"),o.qZA(),o._UZ(12,"input",7),o.qZA(),o.TgZ(13,"mat-form-field",6),o.TgZ(14,"mat-label"),o._uU(15,"C\xf3digo (Slug)"),o.qZA(),o._UZ(16,"input",8),o.qZA(),o.TgZ(17,"mat-form-field",6),o.TgZ(18,"mat-label"),o._uU(19,"Descri\xe7\xe3o"),o.qZA(),o._UZ(20,"textarea",9),o.qZA(),o._UZ(21,"app-file-upload",10),o.qZA(),o.qZA()),2&t&&(o.Q6J("ngIf",e.loading),o.xp6(3),o.hij("",e.id?"Editar":"Adicionar"," Categoria"),o.xp6(3),o.hij(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),o.xp6(1),o.Q6J("formGroup",e.formGroup),o.xp6(14),o.Q6J("multiple",!1)("type",e.fileType)("id",e.id)("token",e.token))},directives:[r.O5,u.xw,u.Wh,d.lW,D._Y,D.JL,D.sg,I.KE,I.hX,B.Nt,D.Fj,D.Q7,D.JJ,D.u,L.Y,h.pW],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const G=[{path:"",component:Y},{path:"add",component:E},{path:"edit/:id",component:E}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.Bz.forChild(G)],a.Bz]}),t})();var R=i(5001),W=i(1050),j=i(7806),z=i(7439),$=i(7521),X=i(5250),F=i(5109),M=i(1522),P=i(4786),V=i(7898),K=i(689),tt=i(6749),et=i(6828),it=i(84),rt=i(5619),at=i(6712);let ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.ez,H,u.ae,R.To,W.g,h.Cv,j.Cq,z.QW,d.ot,D.UX,B.c,f.Ps,$.rP,X.ie,F.Nh,M.Ng,P.LD,m.p0,g.JX,V.f,K.w,p.TU,tt.yI,et.AV,it.Bb,rt.Co,at.ProductsModule]]}),t})()}}]);