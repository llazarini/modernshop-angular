(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{LZ3p:function(t,e,i){"use strict";i.r(e),i.d(e,"OptionsModule",(function(){return st}));var a=i("ofXK"),r=i("XiUz"),o=i("7EHt"),n=i("TU8p"),c=i("bv9b"),l=i("Xa2L"),b=i("Wp6s"),s=i("bTqV"),u=i("3Pt+"),d=i("qFsG"),m=i("NFeN"),p=i("1jcm"),h=i("MutI"),f=i("wZkO"),g=i("FKr1"),S=i("d3UM"),C=i("+0xr"),v=i("Dh3D"),R=i("Xx9n"),A=i("g1/W"),w=i("M9IT"),y=i("tmjD"),D=i("Qu3c"),N=i("/1cH"),x=i("WJ5W"),k=i("tyNb"),j=i("fXoL"),B=i("tk/3"),q=i("AytR");let I=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new B.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(q.a.baseAuthUrl+"/options/get-all",{params:e})}update(t){return this.httpClient.put(q.a.baseAuthUrl+"/options/update/"+t.id,t)}store(t){return this.httpClient.post(q.a.baseAuthUrl+"/options/store",t)}dataprovider(){return this.httpClient.get(q.a.baseAuthUrl+"/options/dataprovider/",{})}get(t){return this.httpClient.get(q.a.baseAuthUrl+"/options/get/"+t,{})}delete(t){return this.httpClient.delete(q.a.baseAuthUrl+"/options/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(j.Wb(B.b))},t.\u0275prov=j.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var G=i("kyzu"),L=i("CQ0i");function M(t,e){1&t&&j.Nb(0,"mat-progress-bar",21)}function P(t,e){1&t&&(j.Sb(0,"th",22),j.Cc(1,"#"),j.Rb())}function Q(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Dc(t.id)}}function E(t,e){1&t&&(j.Sb(0,"th",24),j.Cc(1,"Atributo"),j.Rb())}function O(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Dc(null==t.attribute?null:t.attribute.name)}}function F(t,e){1&t&&(j.Sb(0,"th",24),j.Cc(1,"Nome"),j.Rb())}function U(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Dc(t.name)}}function $(t,e){1&t&&(j.Sb(0,"th",24),j.Cc(1,"Pre\xe7o"),j.Rb())}function T(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.fc(2,"price"),j.Sb(3,"span",25),j.Cc(4),j.Rb(),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Ec(" ",j.gc(2,2,t.price)," "),j.Bb(3),j.Dc(t.type?"(+) Adicional":"(-) Remover")}}function H(t,e){1&t&&(j.Sb(0,"th",24),j.Cc(1,"Gramas"),j.Rb())}function z(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Ec(" ",t.weight," gramas ")}}function J(t,e){1&t&&(j.Sb(0,"th",24),j.Cc(1,"Tamanho"),j.Rb())}function _(t,e){if(1&t&&(j.Sb(0,"td",23),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.Bb(1),j.Gc(" ",t.width," x ",t.length," x ",t.height," ")}}function K(t,e){1&t&&(j.Sb(0,"th",26),j.Cc(1,"A\xe7\xf5es"),j.Rb())}function W(t,e){if(1&t){const t=j.Tb();j.Sb(0,"td",23),j.Sb(1,"button",27),j.Sb(2,"mat-icon",28),j.Cc(3,"edit"),j.Rb(),j.Cc(4," Editar "),j.Rb(),j.Sb(5,"button",29),j.ac("click",(function(){j.rc(t);const i=e.$implicit;return j.ec().deleteConfirm(i)})),j.Sb(6,"mat-icon",28),j.Cc(7,"remove_circle_outline"),j.Rb(),j.Cc(8," Remover "),j.Rb(),j.Rb()}if(2&t){const t=e.$implicit;j.Bb(1),j.jc("routerLink","edit/"+t.id)}}function X(t,e){1&t&&j.Nb(0,"tr",30)}function V(t,e){1&t&&j.Nb(0,"tr",31)}let Z=(()=>{class t{constructor(t,e){this.optionService=t,this.alertService=e,this.displayedColumns=["id","name","attribute","price","weight","size","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.optionService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.optionService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(j.Mb(I),j.Mb(G.a))},t.\u0275cmp=j.Gb({type:t,selectors:[["app-options"]],decls:33,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","attribute"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","weight"],["matColumnDef","size"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],[1,"muted"],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(j.Ac(0,M,1,0,"mat-progress-bar",0),j.Sb(1,"div",1),j.Sb(2,"div",2),j.Sb(3,"h1",3),j.Cc(4,"Op\xe7\xf5es"),j.Rb(),j.Sb(5,"button",4),j.Nb(6,"i",5),j.Cc(7," Adicionar "),j.Rb(),j.Rb(),j.Sb(8,"table",6),j.Qb(9,7),j.Ac(10,P,2,0,"th",8),j.Ac(11,Q,2,1,"td",9),j.Pb(),j.Qb(12,10),j.Ac(13,E,2,0,"th",11),j.Ac(14,O,2,1,"td",9),j.Pb(),j.Qb(15,12),j.Ac(16,F,2,0,"th",11),j.Ac(17,U,2,1,"td",9),j.Pb(),j.Qb(18,13),j.Ac(19,$,2,0,"th",11),j.Ac(20,T,5,4,"td",9),j.Pb(),j.Qb(21,14),j.Ac(22,H,2,0,"th",11),j.Ac(23,z,2,1,"td",9),j.Pb(),j.Qb(24,15),j.Ac(25,J,2,0,"th",11),j.Ac(26,_,2,3,"td",9),j.Pb(),j.Qb(27,16),j.Ac(28,K,2,0,"th",17),j.Ac(29,W,9,1,"td",9),j.Pb(),j.Ac(30,X,1,0,"tr",18),j.Ac(31,V,1,0,"tr",19),j.Rb(),j.Sb(32,"mat-paginator",20),j.ac("page",(function(t){return e.pageChange(t)})),j.Rb(),j.Rb()),2&t&&(j.jc("ngIf",e.loading),j.Bb(8),j.jc("dataSource",e.dataSource),j.Bb(22),j.jc("matHeaderRowDef",e.displayedColumns),j.Bb(1),j.jc("matRowDefColumns",e.displayedColumns),j.Bb(1),j.jc("pageIndex",e.page)("length",e.total))},directives:[a.l,r.c,r.b,s.b,k.c,C.j,r.a,v.a,C.c,C.e,C.b,C.g,C.i,w.a,c.a,C.d,C.a,m.a,C.f,C.h],pipes:[L.a],styles:[""]}),t})();var Y=i("Qj20"),tt=i("sAQj"),et=i("kmnG"),it=i("KyJ7");function at(t,e){1&t&&j.Nb(0,"mat-progress-bar",22)}function rt(t,e){if(1&t&&(j.Sb(0,"mat-option",11),j.Cc(1),j.Rb()),2&t){const t=e.$implicit;j.jc("value",t.id),j.Bb(1),j.Dc(t.name)}}let ot=(()=>{class t{constructor(t=null,e,i,a,r){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=a,this.optionService=r,this.loading=0,this.id=null,this.fileType=Y.a.option,this.token=tt.a.generate(),this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],attribute_id:[null,u.v.required],name:[null,[u.v.required,u.v.maxLength(255)]],price:[null,[u.v.required]],type:[null,[u.v.required]],description:[null,[u.v.required]],weight:[null,[u.v.required]],height:[null,[u.v.required]],width:[null,[u.v.required]],length:[null,[u.v.required]]})}ngOnInit(){this.dataprovider(),this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading+=1,this.optionService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}update(){this.loading+=1,this.optionService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}get(){this.loading+=1,this.optionService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading-=1)}dataprovider(){this.loading+=1,this.optionService.dataprovider().subscribe(t=>{this.attributes=t.attributes}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(j.Mb(u.e),j.Mb(k.b),j.Mb(k.a),j.Mb(G.a),j.Mb(I))},t.\u0275cmp=j.Gb({type:t,selectors:[["app-add-edit"]],decls:53,vars:11,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["formControlName","attribute_id","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],[3,"value"],["matInput","","required","","formControlName","price"],["matInput","","required","","formControlName","description"],["fxLayout","row"],["fxFlex","","appearance","outline"],["matInput","","required","","type","number","formControlName","weight"],["fxFlex","","appearance","outline",1,"margin-left"],["matInput","","required","","type","number","formControlName","width"],["matInput","","required","","type","number","formControlName","height"],["matInput","","required","","type","number","formControlName","length"],[3,"multiple","type","id","token"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(j.Ac(0,at,1,0,"mat-progress-bar",0),j.Sb(1,"div",1),j.Sb(2,"h1"),j.Cc(3),j.Rb(),j.Sb(4,"button",2),j.ac("click",(function(){return e.submit()})),j.Nb(5,"i",3),j.Cc(6),j.Rb(),j.Rb(),j.Sb(7,"form",4),j.ac("submit",(function(){return e.submit()})),j.Sb(8,"div",5),j.Sb(9,"mat-form-field",6),j.Sb(10,"mat-label"),j.Cc(11,"Nome da Op\xe7\xe3o"),j.Rb(),j.Nb(12,"input",7),j.Rb(),j.Sb(13,"mat-form-field",6),j.Sb(14,"mat-label"),j.Cc(15,"Atributo relacionado"),j.Rb(),j.Sb(16,"mat-select",8),j.Ac(17,rt,2,2,"mat-option",9),j.Rb(),j.Rb(),j.Sb(18,"mat-form-field",6),j.Sb(19,"mat-label"),j.Cc(20,"Tipo"),j.Rb(),j.Sb(21,"mat-select",10),j.Sb(22,"mat-option",11),j.Cc(23,"Adicional (+)"),j.Rb(),j.Sb(24,"mat-option",11),j.Cc(25,"Adicional (-)"),j.Rb(),j.Rb(),j.Rb(),j.Sb(26,"mat-form-field",6),j.Sb(27,"mat-label"),j.Cc(28,"Pre\xe7o"),j.Rb(),j.Nb(29,"input",12),j.Rb(),j.Sb(30,"mat-form-field",6),j.Sb(31,"mat-label"),j.Cc(32,"Descri\xe7\xe3o"),j.Rb(),j.Nb(33,"textarea",13),j.Rb(),j.Sb(34,"div",14),j.Sb(35,"mat-form-field",15),j.Sb(36,"mat-label"),j.Cc(37,"Peso (g)"),j.Rb(),j.Nb(38,"input",16),j.Rb(),j.Sb(39,"mat-form-field",17),j.Sb(40,"mat-label"),j.Cc(41,"Comprimento (cm)"),j.Rb(),j.Nb(42,"input",18),j.Rb(),j.Rb(),j.Sb(43,"div",14),j.Sb(44,"mat-form-field",15),j.Sb(45,"mat-label"),j.Cc(46,"Altura (cm)"),j.Rb(),j.Nb(47,"input",19),j.Rb(),j.Sb(48,"mat-form-field",17),j.Sb(49,"mat-label"),j.Cc(50,"Largura (cm)"),j.Rb(),j.Nb(51,"input",20),j.Rb(),j.Rb(),j.Nb(52,"app-file-upload",21),j.Rb(),j.Rb()),2&t&&(j.jc("ngIf",e.loading>0),j.Bb(3),j.Ec("",e.id?"Editar":"Adicionar"," Op\xe7\xe3o"),j.Bb(3),j.Ec(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),j.Bb(1),j.jc("formGroup",e.formGroup),j.Bb(10),j.jc("ngForOf",e.attributes),j.Bb(5),j.jc("value",1),j.Bb(2),j.jc("value",0),j.Bb(28),j.jc("multiple",!1)("type",e.fileType)("id",e.id)("token",e.token))},directives:[a.l,r.c,r.b,s.b,u.w,u.p,u.j,et.c,et.f,d.b,u.c,u.u,u.o,u.h,S.a,a.k,g.n,r.a,u.s,it.a,c.a],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const nt=[{path:"",component:Z},{path:"add",component:ot},{path:"edit/:id",component:ot}];let ct=(()=>{class t{}return t.\u0275mod=j.Kb({type:t}),t.\u0275inj=j.Jb({factory:function(e){return new(e||t)},imports:[[k.e.forChild(nt)],k.e]}),t})();var lt=i("hyGo"),bt=i("zg7/");let st=(()=>{class t{}return t.\u0275mod=j.Kb({type:t}),t.\u0275inj=j.Jb({factory:function(e){return new(e||t)},imports:[[a.c,ct,r.f,o.a,n.b,c.b,l.b,b.c,s.c,u.t,d.c,m.b,p.a,h.b,f.d,g.o,S.b,C.k,v.b,R.a,A.a,w.b,y.b,D.b,N.a,x.b,lt.a,bt.ProductsModule]]}),t})()}}]);