(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{LZ3p:function(t,e,i){"use strict";i.r(e),i.d(e,"OptionsModule",(function(){return st}));var a=i("ofXK"),r=i("XiUz"),o=i("7EHt"),n=i("TU8p"),c=i("bv9b"),l=i("Xa2L"),b=i("Wp6s"),s=i("bTqV"),u=i("3Pt+"),d=i("qFsG"),m=i("NFeN"),p=i("1jcm"),h=i("MutI"),f=i("wZkO"),g=i("FKr1"),S=i("d3UM"),v=i("+0xr"),R=i("Dh3D"),D=i("Xx9n"),B=i("g1/W"),C=i("M9IT"),w=i("tmjD"),y=i("Qu3c"),k=i("/1cH"),N=i("WJ5W"),A=i("tyNb"),x=i("fXoL"),q=i("tk/3"),I=i("AytR");let L=(()=>{class t{constructor(t){this.httpClient=t}getAll(t){let e=new q.e;return t&&(e=e.append("page",t.toString())),this.httpClient.get(I.a.baseAuthUrl+"/options/get-all",{params:e})}update(t){return this.httpClient.put(I.a.baseAuthUrl+"/options/update/"+t.id,t)}store(t){return this.httpClient.post(I.a.baseAuthUrl+"/options/store",t)}dataprovider(){return this.httpClient.get(I.a.baseAuthUrl+"/options/dataprovider/",{})}get(t){return this.httpClient.get(I.a.baseAuthUrl+"/options/get/"+t,{})}delete(t){return this.httpClient.delete(I.a.baseAuthUrl+"/options/delete/"+t,{})}}return t.\u0275fac=function(e){return new(e||t)(x.Wb(q.b))},t.\u0275prov=x.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=i("kyzu"),G=i("CQ0i");function M(t,e){1&t&&x.Nb(0,"mat-progress-bar",21)}function P(t,e){1&t&&(x.Sb(0,"th",22),x.Dc(1,"#"),x.Rb())}function E(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Ec(t.id)}}function Q(t,e){1&t&&(x.Sb(0,"th",24),x.Dc(1,"Atributo"),x.Rb())}function O(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Ec(null==t.attribute?null:t.attribute.name)}}function j(t,e){1&t&&(x.Sb(0,"th",24),x.Dc(1,"Nome"),x.Rb())}function U(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Ec(t.name)}}function $(t,e){1&t&&(x.Sb(0,"th",24),x.Dc(1,"Pre\xe7o"),x.Rb())}function H(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.fc(2,"price"),x.Sb(3,"span",25),x.Dc(4),x.Rb(),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Fc(" ",x.gc(2,2,t.price)," "),x.Bb(3),x.Ec(t.type?"(+) Adicional":"(-) Remover")}}function T(t,e){1&t&&(x.Sb(0,"th",24),x.Dc(1,"Gramas"),x.Rb())}function z(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Fc(" ",t.weight," gramas ")}}function J(t,e){1&t&&(x.Sb(0,"th",24),x.Dc(1,"Tamanho"),x.Rb())}function _(t,e){if(1&t&&(x.Sb(0,"td",23),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.Bb(1),x.Hc(" ",t.width," x ",t.length," x ",t.height," ")}}function K(t,e){1&t&&(x.Sb(0,"th",26),x.Dc(1,"A\xe7\xf5es"),x.Rb())}function W(t,e){if(1&t){const t=x.Tb();x.Sb(0,"td",23),x.Sb(1,"button",27),x.Sb(2,"mat-icon",28),x.Dc(3,"edit"),x.Rb(),x.Dc(4," Editar "),x.Rb(),x.Sb(5,"button",29),x.ac("click",(function(){x.sc(t);const i=e.$implicit;return x.ec().deleteConfirm(i)})),x.Sb(6,"mat-icon",28),x.Dc(7,"remove_circle_outline"),x.Rb(),x.Dc(8," Remover "),x.Rb(),x.Rb()}if(2&t){const t=e.$implicit;x.Bb(1),x.kc("routerLink","edit/"+t.id)}}function X(t,e){1&t&&x.Nb(0,"tr",30)}function V(t,e){1&t&&x.Nb(0,"tr",31)}let Z=(()=>{class t{constructor(t,e){this.optionService=t,this.alertService=e,this.displayedColumns=["id","name","attribute","price","weight","size","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.optionService.getAll(this.page+1).subscribe(t=>{this.dataSource=t.data,this.total=t.total}).add(()=>this.loading=!1)}delete(t){this.loading=!0,this.optionService.delete(t.id).subscribe(t=>{this.getAll(),this.alertService.toast(t.message)}).add(()=>this.loading=!1)}pageChange(t){this.page=t.pageIndex,this.getAll()}deleteConfirm(t){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(e=>{e&&this.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(x.Mb(L),x.Mb(F.a))},t.\u0275cmp=x.Gb({type:t,selectors:[["app-options"]],decls:33,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","attribute"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["matColumnDef","price"],["matColumnDef","weight"],["matColumnDef","size"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],[1,"muted"],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(x.Bc(0,M,1,0,"mat-progress-bar",0),x.Sb(1,"div",1),x.Sb(2,"div",2),x.Sb(3,"h1",3),x.Dc(4,"Op\xe7\xf5es"),x.Rb(),x.Sb(5,"button",4),x.Nb(6,"i",5),x.Dc(7," Adicionar "),x.Rb(),x.Rb(),x.Sb(8,"table",6),x.Qb(9,7),x.Bc(10,P,2,0,"th",8),x.Bc(11,E,2,1,"td",9),x.Pb(),x.Qb(12,10),x.Bc(13,Q,2,0,"th",11),x.Bc(14,O,2,1,"td",9),x.Pb(),x.Qb(15,12),x.Bc(16,j,2,0,"th",11),x.Bc(17,U,2,1,"td",9),x.Pb(),x.Qb(18,13),x.Bc(19,$,2,0,"th",11),x.Bc(20,H,5,4,"td",9),x.Pb(),x.Qb(21,14),x.Bc(22,T,2,0,"th",11),x.Bc(23,z,2,1,"td",9),x.Pb(),x.Qb(24,15),x.Bc(25,J,2,0,"th",11),x.Bc(26,_,2,3,"td",9),x.Pb(),x.Qb(27,16),x.Bc(28,K,2,0,"th",17),x.Bc(29,W,9,1,"td",9),x.Pb(),x.Bc(30,X,1,0,"tr",18),x.Bc(31,V,1,0,"tr",19),x.Rb(),x.Sb(32,"mat-paginator",20),x.ac("page",(function(t){return e.pageChange(t)})),x.Rb(),x.Rb()),2&t&&(x.kc("ngIf",e.loading),x.Bb(8),x.kc("dataSource",e.dataSource),x.Bb(22),x.kc("matHeaderRowDef",e.displayedColumns),x.Bb(1),x.kc("matRowDefColumns",e.displayedColumns),x.Bb(1),x.kc("pageIndex",e.page)("length",e.total))},directives:[a.l,r.c,r.b,s.a,A.c,v.j,r.a,R.a,v.c,v.e,v.b,v.g,v.i,C.a,c.a,v.d,v.a,m.a,v.f,v.h],pipes:[G.a],styles:[""]}),t})();var Y=i("Qj20"),tt=i("sAQj"),et=i("kmnG"),it=i("KyJ7");function at(t,e){1&t&&x.Nb(0,"mat-progress-bar",22)}function rt(t,e){if(1&t&&(x.Sb(0,"mat-option",11),x.Dc(1),x.Rb()),2&t){const t=e.$implicit;x.kc("value",t.id),x.Bb(1),x.Ec(t.name)}}let ot=(()=>{class t{constructor(t=null,e,i,a,r){this.formBuilder=t,this.router=e,this.activatedRoute=i,this.alertService=a,this.optionService=r,this.loading=0,this.id=null,this.fileType=Y.a.option,this.token=tt.a.generate(),this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],attribute_id:[null,u.v.required],name:[null,[u.v.required,u.v.maxLength(255)]],price:[null,[u.v.required]],type:[null,[u.v.required]],description:[null,[u.v.required]],weight:[null,[u.v.required]],height:[null,[u.v.required]],width:[null,[u.v.required]],length:[null,[u.v.required]]})}ngOnInit(){this.dataprovider(),this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading+=1,this.optionService.store(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}update(){this.loading+=1,this.optionService.update(this.formGroup.value).subscribe(t=>{this.router.navigate(["/","auth","options"]),this.alertService.toast(t.message)},t=>{this.alertService.treatError(t)}).add(()=>this.loading-=1)}get(){this.loading+=1,this.optionService.get(this.id).subscribe(t=>{this.formGroup.patchValue(t)}).add(()=>this.loading-=1)}dataprovider(){this.loading+=1,this.optionService.dataprovider().subscribe(t=>{this.attributes=t.attributes}).add(()=>this.loading-=1)}}return t.\u0275fac=function(e){return new(e||t)(x.Mb(u.e),x.Mb(A.b),x.Mb(A.a),x.Mb(F.a),x.Mb(L))},t.\u0275cmp=x.Gb({type:t,selectors:[["app-add-edit"]],decls:53,vars:11,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["formControlName","attribute_id","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],[3,"value"],["matInput","","required","","formControlName","price"],["matInput","","required","","formControlName","description"],["fxLayout","row"],["fxFlex","","appearance","outline"],["matInput","","required","","type","number","formControlName","weight"],["fxFlex","","appearance","outline",1,"margin-left"],["matInput","","required","","type","number","formControlName","width"],["matInput","","required","","type","number","formControlName","height"],["matInput","","required","","type","number","formControlName","length"],[3,"multiple","type","id","token"],["mode","indeterminate",1,"progress"]],template:function(t,e){1&t&&(x.Bc(0,at,1,0,"mat-progress-bar",0),x.Sb(1,"div",1),x.Sb(2,"h1"),x.Dc(3),x.Rb(),x.Sb(4,"button",2),x.ac("click",(function(){return e.submit()})),x.Nb(5,"i",3),x.Dc(6),x.Rb(),x.Rb(),x.Sb(7,"form",4),x.ac("submit",(function(){return e.submit()})),x.Sb(8,"div",5),x.Sb(9,"mat-form-field",6),x.Sb(10,"mat-label"),x.Dc(11,"Nome da Op\xe7\xe3o"),x.Rb(),x.Nb(12,"input",7),x.Rb(),x.Sb(13,"mat-form-field",6),x.Sb(14,"mat-label"),x.Dc(15,"Atributo relacionado"),x.Rb(),x.Sb(16,"mat-select",8),x.Bc(17,rt,2,2,"mat-option",9),x.Rb(),x.Rb(),x.Sb(18,"mat-form-field",6),x.Sb(19,"mat-label"),x.Dc(20,"Tipo"),x.Rb(),x.Sb(21,"mat-select",10),x.Sb(22,"mat-option",11),x.Dc(23,"Adicional (+)"),x.Rb(),x.Sb(24,"mat-option",11),x.Dc(25,"Adicional (-)"),x.Rb(),x.Rb(),x.Rb(),x.Sb(26,"mat-form-field",6),x.Sb(27,"mat-label"),x.Dc(28,"Pre\xe7o"),x.Rb(),x.Nb(29,"input",12),x.Rb(),x.Sb(30,"mat-form-field",6),x.Sb(31,"mat-label"),x.Dc(32,"Descri\xe7\xe3o"),x.Rb(),x.Nb(33,"textarea",13),x.Rb(),x.Sb(34,"div",14),x.Sb(35,"mat-form-field",15),x.Sb(36,"mat-label"),x.Dc(37,"Peso (g)"),x.Rb(),x.Nb(38,"input",16),x.Rb(),x.Sb(39,"mat-form-field",17),x.Sb(40,"mat-label"),x.Dc(41,"Comprimento (cm)"),x.Rb(),x.Nb(42,"input",18),x.Rb(),x.Rb(),x.Sb(43,"div",14),x.Sb(44,"mat-form-field",15),x.Sb(45,"mat-label"),x.Dc(46,"Altura (cm)"),x.Rb(),x.Nb(47,"input",19),x.Rb(),x.Sb(48,"mat-form-field",17),x.Sb(49,"mat-label"),x.Dc(50,"Largura (cm)"),x.Rb(),x.Nb(51,"input",20),x.Rb(),x.Rb(),x.Nb(52,"app-file-upload",21),x.Rb(),x.Rb()),2&t&&(x.kc("ngIf",e.loading>0),x.Bb(3),x.Fc("",e.id?"Editar":"Adicionar"," Op\xe7\xe3o"),x.Bb(3),x.Fc(" ",e.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),x.Bb(1),x.kc("formGroup",e.formGroup),x.Bb(10),x.kc("ngForOf",e.attributes),x.Bb(5),x.kc("value",1),x.Bb(2),x.kc("value",0),x.Bb(28),x.kc("multiple",!1)("type",e.fileType)("id",e.id)("token",e.token))},directives:[a.l,r.c,r.b,s.a,u.w,u.p,u.j,et.c,et.f,d.b,u.c,u.u,u.o,u.h,S.a,a.k,g.n,r.a,u.s,it.a,c.a],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]}),t})();const nt=[{path:"",component:Z},{path:"add",component:ot},{path:"edit/:id",component:ot}];let ct=(()=>{class t{}return t.\u0275mod=x.Kb({type:t}),t.\u0275inj=x.Jb({factory:function(e){return new(e||t)},imports:[[A.e.forChild(nt)],A.e]}),t})();var lt=i("hyGo"),bt=i("zg7/");let st=(()=>{class t{}return t.\u0275mod=x.Kb({type:t}),t.\u0275inj=x.Jb({factory:function(e){return new(e||t)},imports:[[a.c,ct,r.f,o.a,n.b,c.b,l.b,b.c,s.b,u.t,d.c,m.b,p.a,h.b,f.d,g.o,S.b,v.k,R.b,D.a,B.a,C.b,w.b,y.b,k.a,N.b,lt.a,bt.ProductsModule]]}),t})()}}]);