exports.id=913,exports.ids=[913],exports.modules={2913:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BannersModule:()=>BannersModule});var common=__webpack_require__(2057),router=__webpack_require__(2636),core=__webpack_require__(4788),http=__webpack_require__(8497),environment=__webpack_require__(2340);class BannerService{constructor(httpClient){this.httpClient=httpClient}getAll(page){let httpParams=new http.LE;return page&&(httpParams=httpParams.append("page",page.toString())),this.httpClient.get(environment.N.baseAuthUrl+"/banners/get-all",{params:httpParams})}update(data){return this.httpClient.put(environment.N.baseAuthUrl+"/banners/update/"+data.id,data)}store(data){return this.httpClient.post(environment.N.baseAuthUrl+"/banners/store",data)}dataprovider(){return this.httpClient.get(environment.N.baseAuthUrl+"/banners/dataprovider/",{})}get(id){return this.httpClient.get(environment.N.baseAuthUrl+"/banners/get/"+id,{})}delete(id){return this.httpClient.delete(environment.N.baseAuthUrl+"/banners/delete/"+id,{})}}BannerService.\u0275fac=function BannerService_Factory(t){return new(t||BannerService)(core.LFG(http.eN))},BannerService.\u0275prov=core.Yz7({token:BannerService,factory:BannerService.\u0275fac,providedIn:"root"});var alert_service=__webpack_require__(1418),flex=__webpack_require__(2257),fesm2015_button=__webpack_require__(2895),table=__webpack_require__(8735),sort=__webpack_require__(857),paginator=__webpack_require__(3487),progress_bar=__webpack_require__(3985),icon=__webpack_require__(9356);function BannersComponent_mat_progress_bar_0_Template(rf,ctx){1&rf&&core._UZ(0,"mat-progress-bar",18)}function BannersComponent_th_10_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",19),core._uU(1,"#"),core.qZA())}function BannersComponent_td_11_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",20),core._uU(1),core.qZA()),2&rf){const row_r11=ctx.$implicit;core.xp6(1),core.Oqu(row_r11.id)}}function BannersComponent_th_13_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",21),core._uU(1,"Nome"),core.qZA())}function BannersComponent_td_14_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",20),core._uU(1),core.qZA()),2&rf){const row_r12=ctx.$implicit;core.xp6(1),core.Oqu(row_r12.name)}}function BannersComponent_th_16_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",21),core._uU(1,"Slug"),core.qZA())}function BannersComponent_td_17_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",20),core._uU(1),core.qZA()),2&rf){const row_r13=ctx.$implicit;core.xp6(1),core.Oqu(row_r13.slug)}}function BannersComponent_th_19_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",22),core._uU(1,"A\xe7\xf5es"),core.qZA())}function BannersComponent_td_20_Template(rf,ctx){if(1&rf){const _r16=core.EpF();core.TgZ(0,"td",20),core.TgZ(1,"button",23),core.TgZ(2,"mat-icon",24),core._uU(3,"edit"),core.qZA(),core._uU(4," Editar "),core.qZA(),core.TgZ(5,"button",25),core.NdJ("click",function BannersComponent_td_20_Template_button_click_5_listener(){const row_r14=core.CHM(_r16).$implicit;return core.oxw().deleteConfirm(row_r14)}),core.TgZ(6,"mat-icon",24),core._uU(7,"remove_circle_outline"),core.qZA(),core._uU(8," Remover "),core.qZA(),core.qZA()}if(2&rf){const row_r14=ctx.$implicit;core.xp6(1),core.Q6J("routerLink","edit/"+row_r14.id)}}function BannersComponent_tr_21_Template(rf,ctx){1&rf&&core._UZ(0,"tr",26)}function BannersComponent_tr_22_Template(rf,ctx){1&rf&&core._UZ(0,"tr",27)}class BannersComponent{constructor(bannerService,alertService){this.bannerService=bannerService,this.alertService=alertService,this.displayedColumns=["id","name","actions"],this.loading=!0,this.page=0}ngOnInit(){this.getAll()}getAll(){this.loading=!0,this.bannerService.getAll(this.page+1).subscribe(response=>{this.dataSource=response.data,this.total=response.total}).add(()=>this.loading=!1)}delete(row){this.loading=!0,this.bannerService.delete(row.id).subscribe(response=>{this.getAll(),this.alertService.toast(response.message)}).add(()=>this.loading=!1)}pageChange(event){this.page=event.pageIndex,this.getAll()}deleteConfirm(row){this.alertService.confirm("Deseja remover o registro?","Remover").subscribe(response=>{response&&this.delete(row)})}}BannersComponent.\u0275fac=function BannersComponent_Factory(t){return new(t||BannersComponent)(core.Y36(BannerService),core.Y36(alert_service.c))},BannersComponent.\u0275cmp=core.Xpm({type:BannersComponent,selectors:[["app-banners"]],decls:24,vars:6,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","space-between center"],[1,"margin-right"],["color","primary","mat-flat-button","","routerLink","add"],[1,"mdi","mdi-plus"],["fxFlex","","mat-table","","matSort","","matSortActive","id","matSortDisableClear","","matSortDirection","desc",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","50px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","sku"],["matColumnDef","actions","stickyEnd",""],["mat-header-cell","","class","actions",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["pageSize","10",3,"pageIndex","length","page"],["mode","indeterminate",1,"progress"],["mat-header-cell","","width","50px"],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"actions"],["mat-button","","color","primary",3,"routerLink"],["inline","",1,"small"],["mat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function BannersComponent_Template(rf,ctx){1&rf&&(core.YNc(0,BannersComponent_mat_progress_bar_0_Template,1,0,"mat-progress-bar",0),core.TgZ(1,"div",1),core.TgZ(2,"div",2),core.TgZ(3,"h1",3),core._uU(4,"Banners"),core.qZA(),core.TgZ(5,"button",4),core._UZ(6,"i",5),core._uU(7," Adicionar "),core.qZA(),core.qZA(),core.TgZ(8,"table",6),core.ynx(9,7),core.YNc(10,BannersComponent_th_10_Template,2,0,"th",8),core.YNc(11,BannersComponent_td_11_Template,2,1,"td",9),core.BQk(),core.ynx(12,10),core.YNc(13,BannersComponent_th_13_Template,2,0,"th",11),core.YNc(14,BannersComponent_td_14_Template,2,1,"td",9),core.BQk(),core.ynx(15,12),core.YNc(16,BannersComponent_th_16_Template,2,0,"th",11),core.YNc(17,BannersComponent_td_17_Template,2,1,"td",9),core.BQk(),core.ynx(18,13),core.YNc(19,BannersComponent_th_19_Template,2,0,"th",14),core.YNc(20,BannersComponent_td_20_Template,9,1,"td",9),core.BQk(),core.YNc(21,BannersComponent_tr_21_Template,1,0,"tr",15),core.YNc(22,BannersComponent_tr_22_Template,1,0,"tr",16),core.qZA(),core.TgZ(23,"mat-paginator",17),core.NdJ("page",function BannersComponent_Template_mat_paginator_page_23_listener($event){return ctx.pageChange($event)}),core.qZA(),core.qZA()),2&rf&&(core.Q6J("ngIf",ctx.loading),core.xp6(8),core.Q6J("dataSource",ctx.dataSource),core.xp6(13),core.Q6J("matHeaderRowDef",ctx.displayedColumns),core.xp6(1),core.Q6J("matRowDefColumns",ctx.displayedColumns),core.xp6(1),core.Q6J("pageIndex",ctx.page)("length",ctx.total))},directives:[common.O5,flex.xw,flex.Wh,fesm2015_button.lW,router.rH,table.BZ,flex.yH,sort.YE,table.w1,table.fO,table.Dz,table.as,table.nj,paginator.NW,progress_bar.pW,table.ge,table.ev,icon.Hw,table.XQ,table.Gk],styles:[""]});var fesm2015_forms=__webpack_require__(4751),TokenHelper=__webpack_require__(2029),form_field=__webpack_require__(6833),input=__webpack_require__(6113),file_upload_component=__webpack_require__(929),divider=__webpack_require__(591);function AddEditComponent_mat_progress_bar_0_Template(rf,ctx){1&rf&&core._UZ(0,"mat-progress-bar",12)}function AddEditComponent_div_20_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"div",13),core.TgZ(1,"mat-form-field",6),core.TgZ(2,"mat-label"),core._uU(3,"Nome"),core.qZA(),core._UZ(4,"input",7),core.qZA(),core.TgZ(5,"mat-form-field",6),core.TgZ(6,"mat-label"),core._uU(7,"Conte\xfado"),core.qZA(),core._UZ(8,"textarea",14),core.qZA(),core.TgZ(9,"app-file-upload",15),core.NdJ("uploaded",function AddEditComponent_div_20_Template_app_file_upload_uploaded_9_listener($event){const i_r3=core.CHM(_r5).index;return core.oxw().fileUploaded(i_r3,$event)}),core.qZA(),core.TgZ(10,"button",16),core.NdJ("click",function AddEditComponent_div_20_Template_button_click_10_listener(){const i_r3=core.CHM(_r5).index;return core.oxw().removeBanner(i_r3)}),core._UZ(11,"i",17),core._uU(12," Remover banner"),core.qZA(),core._UZ(13,"mat-divider"),core.qZA()}if(2&rf){const banner_r2=ctx.$implicit,i_r3=ctx.index,ctx_r1=core.oxw();core.Q6J("formGroup",ctx_r1.banners.controls[i_r3]),core.xp6(9),core.Q6J("id",banner_r2.value.id)("token",ctx_r1.token)("multiple",!1)}}class AddEditComponent{constructor(formBuilder=null,router,activatedRoute,alertService,bannerService){this.formBuilder=formBuilder,this.router=router,this.activatedRoute=activatedRoute,this.alertService=alertService,this.bannerService=bannerService,this.id=null,this.token=TokenHelper.v.generate(),this.formGroup=this.formBuilder.group({request_token:[this.token],id:[null],name:[null,[fesm2015_forms.kI.required,fesm2015_forms.kI.maxLength(255)]],slug:[null],banners:this.formBuilder.array([])})}get banners(){return this.formGroup.get("banners")}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.id&&this.get()}submit(){this.loading||(this.id?this.update():this.store())}store(){this.loading=!0,this.bannerService.store(this.formGroup.value).subscribe(response=>{this.router.navigate(["/","auth","banners"]),this.alertService.toast(response.message)},error=>{this.alertService.treatError(error)}).add(()=>this.loading=!1)}update(){this.loading=!0,this.bannerService.update(this.formGroup.value).subscribe(response=>{this.router.navigate(["/","auth","banners"]),this.alertService.toast(response.message)},error=>{this.alertService.treatError(error)}).add(()=>this.loading=!1)}get(){this.loading=!0,this.bannerService.get(this.id).subscribe(response=>{this.formGroup.patchValue(response),response.banners.forEach(banner=>this.addBanner(banner))}).add(()=>this.loading=!1)}addBanner(banner){var _a;this.banners.push(this.formBuilder.group({id:[null==banner?void 0:banner.id],file_id:[null===(_a=null==banner?void 0:banner.file)||void 0===_a?void 0:_a.id],name:[null==banner?void 0:banner.name,[fesm2015_forms.kI.required,fesm2015_forms.kI.maxLength(255)]],content:[null==banner?void 0:banner.content]}))}fileUploaded(i,file){this.banners.at(i).patchValue({file_id:file.id})}removeBanner(i){this.banners.removeAt(i)}}AddEditComponent.\u0275fac=function AddEditComponent_Factory(t){return new(t||AddEditComponent)(core.Y36(fesm2015_forms.qu),core.Y36(router.F0),core.Y36(router.gz),core.Y36(alert_service.c),core.Y36(BannerService))},AddEditComponent.\u0275cmp=core.Xpm({type:AddEditComponent,selectors:[["app-add-edit"]],decls:21,vars:5,consts:[["class","progress","mode","indeterminate",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between start"],["color","primary","mat-flat-button","",3,"click"],[1,"mdi","mdi-plus"],[1,"common-form","padding",3,"formGroup","submit"],["fxLayout","column",1,"common-form-max"],["appearance","outline"],["matInput","","required","","formControlName","name"],["matInput","","required","","formControlName","slug"],["mat-button","","type","button",3,"click"],["fxFlex",""],["class","padding","fxLayout","column",3,"formGroup",4,"ngFor","ngForOf"],["mode","indeterminate",1,"progress"],["fxLayout","column",1,"padding",3,"formGroup"],["matInput","","required","","formControlName","content"],["type","App\\Models\\Banner",3,"id","token","multiple","uploaded"],["mat-icon-button","","type","button",3,"click"],[1,"mdi","mdi-trash-can"]],template:function AddEditComponent_Template(rf,ctx){1&rf&&(core.YNc(0,AddEditComponent_mat_progress_bar_0_Template,1,0,"mat-progress-bar",0),core.TgZ(1,"div",1),core.TgZ(2,"h1"),core._uU(3),core.qZA(),core.TgZ(4,"button",2),core.NdJ("click",function AddEditComponent_Template_button_click_4_listener(){return ctx.submit()}),core._UZ(5,"i",3),core._uU(6),core.qZA(),core.qZA(),core.TgZ(7,"form",4),core.NdJ("submit",function AddEditComponent_Template_form_submit_7_listener(){return ctx.submit()}),core.TgZ(8,"div",5),core.TgZ(9,"mat-form-field",6),core.TgZ(10,"mat-label"),core._uU(11,"Nome do Banner"),core.qZA(),core._UZ(12,"input",7),core.qZA(),core.TgZ(13,"mat-form-field",6),core.TgZ(14,"mat-label"),core._uU(15,"Slug (inser\xe7\xe3o no c\xf3digo)"),core.qZA(),core._UZ(16,"input",8),core.qZA(),core.TgZ(17,"button",9),core.NdJ("click",function AddEditComponent_Template_button_click_17_listener(){return ctx.addBanner()}),core._uU(18,"Adicionar Banner"),core.qZA(),core.TgZ(19,"div",10),core.YNc(20,AddEditComponent_div_20_Template,14,4,"div",11),core.qZA(),core.qZA(),core.qZA()),2&rf&&(core.Q6J("ngIf",ctx.loading),core.xp6(3),core.hij("",ctx.id?"Editar":"Adicionar"," Banner"),core.xp6(3),core.hij(" ",ctx.id?"Salvar edi\xe7\xe3o":"Adicionar"," "),core.xp6(1),core.Q6J("formGroup",ctx.formGroup),core.xp6(13),core.Q6J("ngForOf",ctx.banners.controls))},directives:[common.O5,flex.xw,flex.Wh,fesm2015_button.lW,fesm2015_forms._Y,fesm2015_forms.JL,fesm2015_forms.sg,form_field.KE,form_field.hX,input.Nt,fesm2015_forms.Fj,fesm2015_forms.Q7,fesm2015_forms.JJ,fesm2015_forms.u,flex.yH,common.sg,progress_bar.pW,file_upload_component.Y,divider.d],styles:[".list[_ngcontent-%COMP%]{min-width:220px}"]});const routes=[{path:"",component:BannersComponent},{path:"add",component:AddEditComponent},{path:"edit/:id",component:AddEditComponent}];class BannersRoutingModule{}BannersRoutingModule.\u0275fac=function BannersRoutingModule_Factory(t){return new(t||BannersRoutingModule)},BannersRoutingModule.\u0275mod=core.oAB({type:BannersRoutingModule}),BannersRoutingModule.\u0275inj=core.cJS({imports:[[router.Bz.forChild(routes)],router.Bz]});var expansion=__webpack_require__(5490),badge=__webpack_require__(3335),progress_spinner=__webpack_require__(9453),card=__webpack_require__(7639),slide_toggle=__webpack_require__(3624),list=__webpack_require__(5363),tabs=__webpack_require__(859),fesm2015_core=__webpack_require__(7935),fesm2015_select=__webpack_require__(1260),address_module=__webpack_require__(1154),contact_module=__webpack_require__(6602),ngx_mask=__webpack_require__(6238),tooltip=__webpack_require__(4855),autocomplete=__webpack_require__(296),ngx_mat_select_search=__webpack_require__(11),products_module=__webpack_require__(178);class BannersModule{}BannersModule.\u0275fac=function BannersModule_Factory(t){return new(t||BannersModule)},BannersModule.\u0275mod=core.oAB({type:BannersModule}),BannersModule.\u0275inj=core.cJS({imports:[[common.ez,BannersRoutingModule,flex.ae,expansion.To,badge.g,progress_bar.Cv,progress_spinner.Cq,card.QW,fesm2015_button.ot,fesm2015_forms.UX,input.c,icon.Ps,slide_toggle.rP,list.ie,tabs.Nh,fesm2015_core.Ng,fesm2015_select.LD,table.p0,sort.JX,address_module.f,contact_module.w,paginator.TU,ngx_mask.yI,tooltip.AV,autocomplete.Bb,ngx_mat_select_search.Co,products_module.ProductsModule,fesm2015_forms.u5]]})}};